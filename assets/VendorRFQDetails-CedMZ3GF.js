import{z as N,u as D,n as Q,r as c,R as e,C as v}from"./index-QHt0BNF-.js";import{a as q}from"./index-xsH4HHeE.js";import{C}from"./CAlert-ZjTU6H8E.js";import{c as S}from"./CRow-Ce6guADD.js";import{C as w,a as x}from"./CCardBody-DTdIa86a.js";import{C as T}from"./CCardHeader-BvbB9qDc.js";import{e as k,f as A,g,h as a,j as B,k as o}from"./CTable-DhIoX8qk.js";import"./CCloseButton-DubpZP9d.js";const I="https://backend-log2.axleshift.com/api/v1/rfq",V=()=>{var d,E,p,f;const{id:i}=N(),{accessToken:m}=D(),h=Q(),[t,R]=c.useState(null),[F,b]=c.useState(!0),[u,y]=c.useState(null);return c.useEffect(()=>{m&&(async()=>{var r,l;try{const n=await q.get(`${I}/vendor/rfqs/${i}`,{headers:{Authorization:`Bearer ${m}`}});R(n.data.rfq),console.log("RFQ Details:",n.data.rfq)}catch(n){console.error("Failed to fetch RFQ details:",n),y(((l=(r=n.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to load RFQ details.")}finally{b(!1)}})()},[i,m]),F?e.createElement("div",{className:"text-center my-3"},e.createElement(v,{color:"primary"})):u?e.createElement(C,{color:"danger",className:"text-center"},u):t?e.createElement(e.Fragment,null,e.createElement(S,{color:"secondary",className:"mb-3",onClick:()=>h(-1)},"← Back"),e.createElement(w,{className:"shadow-sm"},e.createElement(T,{className:"bg-primary text-white fw-bold"},"RFQ Details - ",((d=t.procurementId)==null?void 0:d.title)||"Untitled"),e.createElement(x,null,e.createElement("p",null,e.createElement("strong",null,"RFQ Number:")," ",t.rfqNumber||t._id),e.createElement("p",null,e.createElement("strong",null,"Deadline:")," ",t.deadline?new Date(t.deadline).toLocaleDateString():"N/A"),e.createElement("p",null,e.createElement("strong",null,"Description:")," ",((p=(E=t.procurementId)==null?void 0:E.description)==null?void 0:p.trim())||"No description provided"),e.createElement("p",null,e.createElement("strong",null,"Status:")," ",t.status),e.createElement("h5",{className:"mt-4"},"Products / Services"),e.createElement(k,{striped:!0,hover:!0,responsive:!0},e.createElement(A,{color:"light"},e.createElement(g,null,e.createElement(a,null,"#"),e.createElement(a,null,"Product / Service"),e.createElement(a,null,"Description"),e.createElement(a,null,"Quantity"),e.createElement(a,null,"Unit"))),e.createElement(B,null,(f=t.products)==null?void 0:f.map((s,r)=>{var l;return e.createElement(g,{key:r},e.createElement(a,null,r+1),e.createElement(o,null,s.name),e.createElement(o,null,((l=t.procurementId)==null?void 0:l.description)||"-"),e.createElement(o,null,s.quantity),e.createElement(o,null,s.unit))})))))):e.createElement(C,{color:"warning",className:"text-center"},"RFQ not found.")};export{V as default};
