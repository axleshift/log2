import{r as s,j as e,C as A}from"./index-B9rQ-kmE.js";import{C as f,a as g}from"./CCardBody-Dywmzwhl.js";import{C as b}from"./CCardHeader-C6ZKMTzh.js";import{C as P}from"./CAlert-Bbgy1ZOu.js";import{C as w}from"./CForm-Bi1jMJNo.js";import{C as c,a}from"./CRow-BN1XSdcy.js";import{C as x}from"./CFormInput-DeJQvQXs.js";import{C as L}from"./CFormTextarea-BBW0NQq9.js";import{b as y,a as E}from"./CContainer-DdWdpS7d.js";import{C as _}from"./CNav-D5Jy_q-l.js";import{l as D,m as N}from"./CNavItem-DMaIUZz7.js";import{C as V,a as k}from"./CTabPane-D7Jigavr.js";import"./CCloseButton-r9Y6HIOX.js";import"./CFormControlWrapper-Bjgrupxp.js";const v={price:1e3,deliveryDate:"2025-03-01",terms:"Payment upon delivery"};function F(){const[t,n]=s.useState(v.price),[h,C]=s.useState(v.deliveryDate),[o,S]=s.useState(v.terms),[l,m]=s.useState(!1),[d,j]=s.useState(null),u=()=>{m(!0),j(null),setTimeout(()=>{alert("Contract created successfully"),m(!1)},1e3)};return e.jsx("div",{className:"p-4",children:e.jsxs(f,{children:[e.jsx(b,{children:e.jsx("h2",{children:"Create Contract"})}),e.jsxs(g,{children:[d&&e.jsx(P,{color:"danger",children:d}),e.jsxs(w,{children:[e.jsxs(c,{className:"mb-3",children:[e.jsxs(a,{xs:"12",md:"6",children:[e.jsx("label",{children:"Price"}),e.jsx(x,{type:"number",value:t,onChange:i=>n(i.target.value),placeholder:"Enter price",required:!0})]}),e.jsxs(a,{xs:"12",md:"6",children:[e.jsx("label",{children:"Delivery Date"}),e.jsx(x,{type:"date",value:h,onChange:i=>C(i.target.value),required:!0})]})]}),e.jsx(c,{className:"mb-3",children:e.jsxs(a,{xs:"12",children:[e.jsx("label",{children:"Terms"}),e.jsx(L,{value:o,onChange:i=>S(i.target.value),rows:"3",placeholder:"Enter terms",required:!0})]})}),e.jsx(y,{color:"primary",onClick:u,disabled:l,children:l?"Creating...":"Create Contract"})]})]})]})})}const M=[{_id:"1",product:{name:"Product A"},vendor:{name:"Vendor X"},status:"Pending",price:1e3,deliveryDate:"2025-03-01",terms:"Payment upon delivery"},{_id:"2",product:{name:"Product B"},vendor:{name:"Vendor Y"},status:"Active",price:1500,deliveryDate:"2025-02-20",terms:"30 days payment"},{_id:"3",product:{name:"Product C"},vendor:{name:"Vendor Z"},status:"Completed",price:2e3,deliveryDate:"2025-02-15",terms:"Cash on delivery"}];function q(){const[t,n]=s.useState([]),[h,C]=s.useState(!0),[o,S]=s.useState(null),[l,m]=s.useState(""),[d,j]=s.useState("");s.useEffect(()=>{setTimeout(()=>{n(M),C(!1)},1e3)},[]);const u=(r,T)=>{n(t.map(p=>p._id===r?{...p,status:T}:p)),alert("Contract status updated successfully")},i=t.filter(r=>r.product.name.toLowerCase().includes(l.toLowerCase())||r.vendor.name.toLowerCase().includes(l.toLowerCase())).filter(r=>d?r.status===d:!0);return h?e.jsxs("div",{className:"p-4 text-center",children:[e.jsx(A,{color:"primary",size:"sm"}),e.jsx("p",{children:"Loading contracts..."})]}):o?e.jsx(P,{color:"danger",className:"p-4",children:o}):e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{children:"All Contracts"}),e.jsxs(c,{className:"mb-4",children:[e.jsx(a,{xs:"12",md:"6",children:e.jsx(x,{type:"text",placeholder:"Search by Product or Vendor",value:l,onChange:r=>m(r.target.value)})}),e.jsx(a,{xs:"12",md:"6",children:e.jsx(x,{type:"text",placeholder:"Filter by Status (Pending, Active, Completed)",value:d,onChange:r=>j(r.target.value)})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.map(r=>e.jsxs(f,{className:"mb-4",children:[e.jsx(b,{children:e.jsxs("h4",{children:[r.product.name," - ",r.vendor.name]})}),e.jsxs(g,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",r.status]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Price:"})," $",r.price]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delivery Date:"})," ",r.deliveryDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Terms:"})," ",r.terms]}),e.jsxs(c,{className:"mt-3",children:[e.jsx(a,{xs:"12",md:"6",children:e.jsx(y,{color:"primary",onClick:()=>u(r._id,"Active"),disabled:r.status==="Active",block:"true",children:"Mark as Active"})}),e.jsx(a,{xs:"12",md:"6",children:e.jsx(y,{color:"success",onClick:()=>u(r._id,"Completed"),disabled:r.status==="Completed",block:"true",children:"Mark as Completed"})})]})]})]},r._id))})]})}const O=()=>{const[t,n]=s.useState(0);return e.jsx(E,{children:e.jsx(c,{children:e.jsx(a,{children:e.jsxs(f,{children:[e.jsx(b,{children:e.jsx("h3",{children:"Contract Management"})}),e.jsxs(g,{children:[e.jsxs(_,{variant:"tabs",children:[e.jsx(D,{children:e.jsx(N,{active:t===0,onClick:()=>n(0),children:"CreateContract"})}),e.jsx(D,{children:e.jsx(N,{active:t===1,onClick:()=>n(1),children:"ViewContracts"})})]}),e.jsxs(V,{children:[e.jsx(k,{visible:t===0,children:e.jsx(F,{})}),e.jsx(k,{visible:t===1,children:e.jsx(q,{})})]})]})]})})})})};export{O as default};
