import{k as g,r as s,R as e,C as y}from"./index-CQ5bThOo.js";import{C as v,a as T}from"./CRow-JJupQ2Xr.js";import{C as x,a as S}from"./CCardBody-40k0tZjq.js";import{C as A,a as k,b as m,c as n,d as M,e as r}from"./CTable-CF2NB-O5.js";import{C as u}from"./DefaultLayout-Ce1NCKt0.js";import{b as E}from"./CContainer-ezbfUEXV.js";import{C as R,a as V,b as B,c as D}from"./CModalHeader-BjwXGJ0z.js";import{C as U}from"./CModalTitle-Bz2Qne-t.js";import"./index.esm-RoxhmY7x.js";import"./CNavItem-8e7SXcnn.js";import"./CCloseButton-Bt_Fn3tX.js";import"./cil-user-Ddrdy7PS.js";import"./index-DUVNt038.js";const _="https://backend-log2.axleshift.com/api/v1/auth",W=()=>{const{accessToken:c}=g(),[i,d]=s.useState([]),[p,f]=s.useState(!0),[C,o]=s.useState(!1),[t,b]=s.useState(null);s.useEffect(()=>{if(!c)return;(async()=>{try{const l=await fetch(`${_}/users`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`}});if(!l.ok)throw new Error(`HTTP error! Status: ${l.status}`);const h=(await l.json()).users.filter(N=>N.role==="vendor");d(h)}catch(l){console.error("Error fetching users:",l),d([])}finally{f(!1)}})()},[c]);const w=a=>{b(a),o(!0)};return e.createElement(e.Fragment,null,e.createElement(v,null,e.createElement(T,{xs:"12"},e.createElement(x,{className:"shadow-lg border-0 rounded-3"},e.createElement(S,null,e.createElement("h4",{className:"text-primary fw-bold text-center mb-3"},"Vendor Management"),p?e.createElement("div",{className:"d-flex justify-content-center py-4"},e.createElement(y,{color:"primary",size:"lg"})):e.createElement(A,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"text-center"},e.createElement(k,{color:"dark"},e.createElement(m,null,e.createElement(n,null,"#"),e.createElement(n,null,"User ID"),e.createElement(n,null,"Email"),e.createElement(n,null,"Status"),e.createElement(n,null,"Role"),e.createElement(n,null,"Actions"))),e.createElement(M,null,i.length>0?i.map((a,l)=>e.createElement(m,{key:a._id},e.createElement(r,null,l+1),e.createElement(r,null,a._id),e.createElement(r,null,a.email),e.createElement(r,null,e.createElement(u,{color:a.status==="Active"?"success":a.status==="Pending"?"warning":a.status==="Approved"?"primary":"danger"},a.status)),e.createElement(r,null,a.role),e.createElement(r,null,e.createElement(E,{color:"info",className:"text-white fw-bold",onClick:()=>w(a)},"View Details")))):e.createElement(m,null,e.createElement(r,{colSpan:"6",className:"text-center text-muted"},"No vendors found.")))))))),e.createElement(R,{visible:C,onClose:()=>o(!1)},e.createElement(V,{onClose:()=>o(!1)},e.createElement(U,null,"Vendor Details")),e.createElement(B,null,t&&e.createElement("div",null,e.createElement("p",{className:"fw-bold"},"User ID: ",e.createElement("span",{className:"fw-normal"},t._id)),e.createElement("p",{className:"fw-bold"},"Name:"," ",e.createElement("span",{className:"fw-normal"},(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"N/A")),e.createElement("p",{className:"fw-bold"},"Email: ",e.createElement("span",{className:"fw-normal"},t.email)),e.createElement("p",{className:"fw-bold"},"Status:"," ",e.createElement(u,{color:t.status==="Active"?"success":t.status==="Pending"?"warning":t.status==="Approved"?"primary":"danger"},t.status)),e.createElement("p",{className:"fw-bold"},"Role: ",e.createElement("span",{className:"fw-normal"},t.role)))),e.createElement(D,null,e.createElement(E,{color:"secondary",onClick:()=>o(!1)},"Close"))))};export{W as default};
