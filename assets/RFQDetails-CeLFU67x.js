import{x as b,h as y,r as l,j as e,C as A}from"./index-B9rQ-kmE.js";import{a as Q}from"./index-DW_MHI2K.js";import{C as R,a as S}from"./CCardBody-Dywmzwhl.js";import{C as w}from"./CCardHeader-C6ZKMTzh.js";import{b as F}from"./CContainer-DdWdpS7d.js";import{C as V}from"./DefaultLayout-rva2Np-g.js";import{C as x,a as j,b as i,c as t,d as u,e as n}from"./CTable-DFh1XnVU.js";import"./index.esm-Bup3ZIdH.js";import"./CNavItem-DMaIUZz7.js";import"./CCloseButton-r9Y6HIOX.js";import"./cil-user-Ddrdy7PS.js";import"./CForm-Bi1jMJNo.js";import"./CFormTextarea-BBW0NQq9.js";import"./CFormControlWrapper-Bjgrupxp.js";import"./index-C97SfXnT.js";const T="https://backend-log2.axleshift.com/api/v1/rfq",Y=()=>{var N;const{id:c}=b(),f=y(),[s,C]=l.useState(null),[g,h]=l.useState(!0),[m,p]=l.useState(null),[B,D]=l.useState(!1),[I,k]=l.useState(null),[q,v]=l.useState([]);return l.useEffect(()=>{(async()=>{var d,a;if(!c){p("Invalid RFQ ID"),h(!1);return}try{h(!0);const o=await Q.get(`${T}/${c}`);C(o.data),v(o.data.vendors)}catch(o){p(((a=(d=o.response)==null?void 0:d.data)==null?void 0:a.message)||"Failed to load RFQ")}finally{h(!1)}})()},[c]),g?e.jsx(A,{color:"primary"}):m?e.jsx("div",{children:m}):s?e.jsxs(R,{children:[e.jsxs(w,{children:[e.jsx("h5",{children:"RFQ Details"}),e.jsx(F,{color:"secondary",onClick:()=>f(-1),children:"Back to RFQ List"})]}),e.jsxs(S,{children:[e.jsxs("h6",{children:[e.jsx("strong",{children:"RFQ Number:"})," ",s.rfqNumber]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Title:"})," ",s.title]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Description:"})," ",s.description||"No description available"]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Status:"}),e.jsx(V,{color:s.status==="Open"?"success":s.status==="Awarded"?"warning":"danger",children:s.status})]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Created By:"})," ",((N=s.createdBy)==null?void 0:N.email)||"Unknown"]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(s.createdAt).toLocaleDateString()]}),e.jsx("hr",{}),e.jsx("h6",{children:e.jsx("strong",{children:"Items"})}),e.jsxs(x,{hover:!0,responsive:!0,children:[e.jsx(j,{children:e.jsxs(i,{children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Quantity"}),e.jsx(t,{children:"Unit"})]})}),e.jsx(u,{children:s.items.length>0?s.items.map((r,d)=>e.jsxs(i,{children:[e.jsx(n,{children:r.name||"No name"}),e.jsx(n,{children:r.quantity||"N/A"}),e.jsx(n,{children:r.unit||"N/A"})]},d)):e.jsx(i,{children:e.jsx(n,{colSpan:"3",children:"No items listed"})})})]}),e.jsx("hr",{}),e.jsx("h6",{children:e.jsx("strong",{children:"Invited Vendors"})}),e.jsxs(x,{hover:!0,responsive:!0,children:[e.jsx(j,{children:e.jsxs(i,{children:[e.jsx(t,{children:"Business Name"}),e.jsx(t,{children:"Contact Person"}),e.jsx(t,{children:"Phone Number"}),e.jsx(t,{children:"User Email"})]})}),e.jsx(u,{children:s.vendors.length>0?s.vendors.map((r,d)=>{var a;return e.jsxs(i,{children:[e.jsx(n,{children:r.businessName||"N/A"}),e.jsx(n,{children:r.fullName||"N/A"}),e.jsx(n,{children:r.contactNumber||"N/A"}),e.jsx(n,{children:((a=r.userId)==null?void 0:a.email)||"N/A"})]},d)}):e.jsx(i,{children:e.jsx(n,{colSpan:"4",children:"No vendors added yet."})})})]}),e.jsx("hr",{}),e.jsx("h6",{children:e.jsx("strong",{children:"Quotes"})}),e.jsxs(x,{hover:!0,responsive:!0,children:[e.jsx(j,{children:e.jsxs(i,{children:[e.jsx(t,{children:"Vendor"}),e.jsx(t,{children:"Price"}),e.jsx(t,{children:"Delivery Time"}),e.jsx(t,{children:"Additional Notes"})]})}),e.jsx(u,{children:s.quotes.length>0?s.quotes.map((r,d)=>{var a;return e.jsxs(i,{children:[e.jsx(n,{children:((a=r.vendor)==null?void 0:a.businessName)||"Unknown Vendor"}),e.jsxs(n,{children:["$",r.price||"N/A"]}),e.jsx(n,{children:r.deliveryTime||"N/A"}),e.jsx(n,{children:r.additionalNotes||"No additional notes"})]},d)}):e.jsx(i,{children:e.jsx(n,{colSpan:"4",children:"No quotes submitted yet."})})})]}),e.jsx("hr",{}),s.awardedVendor?e.jsxs("h6",{children:[e.jsx("strong",{children:"Awarded Vendor:"})," ",s.awardedVendor.businessName||s.awardedVendor]}):e.jsx("p",{children:"No vendor awarded yet."})]})]}):e.jsx("div",{children:"No RFQ found."})};export{Y as default};
