import{y as b,i as R,r as c,R as e,C as A}from"./index-CVXZKmLB.js";import{a as Q}from"./index-DW_MHI2K.js";import{C as S,a as w}from"./CCardBody-Dgfl31BA.js";import{C as F}from"./CCardHeader-kl5Q3YQb.js";import{b as V}from"./CContainer-CUBQWJe-.js";import{C as T}from"./DefaultLayout-DqTAsKlE.js";import{C as E,a as d,b as r,c as a,d as p,e as n}from"./CTable-CvbzxBxb.js";import"./index.esm-5r6SQQg7.js";import"./CNavItem-Di_elR9g.js";import"./CCloseButton-Ep9ySGeW.js";import"./cil-user-Ddrdy7PS.js";import"./CForm-CknhkglT.js";import"./CFormTextarea-CSaJPm5V.js";import"./CFormControlWrapper-B3qIZ7fL.js";import"./index-CguwI2c5.js";const k="https://backend-log2.axleshift.com/api/v1/rfq",Y=()=>{var f;const{id:u}=b(),C=R(),[t,g]=c.useState(null),[v,i]=c.useState(!0),[N,h]=c.useState(null),[B,D]=c.useState(!1),[I,q]=c.useState(null),[P,y]=c.useState([]);return c.useEffect(()=>{(async()=>{var s,m;if(!u){h("Invalid RFQ ID"),i(!1);return}try{i(!0);const o=await Q.get(`${k}/${u}`);g(o.data),y(o.data.vendors)}catch(o){h(((m=(s=o.response)==null?void 0:s.data)==null?void 0:m.message)||"Failed to load RFQ")}finally{i(!1)}})()},[u]),v?e.createElement(A,{color:"primary"}):N?e.createElement("div",null,N):t?e.createElement(S,null,e.createElement(F,null,e.createElement("h5",null,"RFQ Details"),e.createElement(V,{color:"secondary",onClick:()=>C(-1)},"Back to RFQ List")),e.createElement(w,null,e.createElement("h6",null,e.createElement("strong",null,"RFQ Number:")," ",t.rfqNumber),e.createElement("h6",null,e.createElement("strong",null,"Title:")," ",t.title),e.createElement("h6",null,e.createElement("strong",null,"Description:")," ",t.description||"No description available"),e.createElement("h6",null,e.createElement("strong",null,"Status:"),e.createElement(T,{color:t.status==="Open"?"success":t.status==="Awarded"?"warning":"danger"},t.status)),e.createElement("h6",null,e.createElement("strong",null,"Created By:")," ",((f=t.createdBy)==null?void 0:f.email)||"Unknown"),e.createElement("h6",null,e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString()),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(E,{hover:!0,responsive:!0},e.createElement(d,null,e.createElement(r,null,e.createElement(a,null,"Name"),e.createElement(a,null,"Quantity"),e.createElement(a,null,"Unit"))),e.createElement(p,null,t.items.length>0?t.items.map((l,s)=>e.createElement(r,{key:s},e.createElement(n,null,l.name||"No name"),e.createElement(n,null,l.quantity||"N/A"),e.createElement(n,null,l.unit||"N/A"))):e.createElement(r,null,e.createElement(n,{colSpan:"3"},"No items listed")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Invited Vendors")),e.createElement(E,{hover:!0,responsive:!0},e.createElement(d,null,e.createElement(r,null,e.createElement(a,null,"Business Name"),e.createElement(a,null,"Contact Person"),e.createElement(a,null,"Phone Number"),e.createElement(a,null,"User Email"))),e.createElement(p,null,t.vendors.length>0?t.vendors.map((l,s)=>{var m;return e.createElement(r,{key:s},e.createElement(n,null,l.businessName||"N/A"),e.createElement(n,null,l.fullName||"N/A"),e.createElement(n,null,l.contactNumber||"N/A"),e.createElement(n,null,((m=l.userId)==null?void 0:m.email)||"N/A"))}):e.createElement(r,null,e.createElement(n,{colSpan:"4"},"No vendors added yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Quotes")),e.createElement(E,{hover:!0,responsive:!0},e.createElement(d,null,e.createElement(r,null,e.createElement(a,null,"Vendor"),e.createElement(a,null,"Price"),e.createElement(a,null,"Delivery Time"),e.createElement(a,null,"Additional Notes"))),e.createElement(p,null,t.quotes.length>0?t.quotes.map((l,s)=>{var m;return e.createElement(r,{key:s},e.createElement(n,null,((m=l.vendor)==null?void 0:m.businessName)||"Unknown Vendor"),e.createElement(n,null,"$",l.price||"N/A"),e.createElement(n,null,l.deliveryTime||"N/A"),e.createElement(n,null,l.additionalNotes||"No additional notes"))}):e.createElement(r,null,e.createElement(n,{colSpan:"4"},"No quotes submitted yet.")))),e.createElement("hr",null),t.awardedVendor?e.createElement("h6",null,e.createElement("strong",null,"Awarded Vendor:")," ",t.awardedVendor.businessName||t.awardedVendor):e.createElement("p",null,"No vendor awarded yet."))):e.createElement("div",null,"No RFQ found.")};export{Y as default};
