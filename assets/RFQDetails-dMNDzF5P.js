import{x as b,h as v,r as c,j as e,C as R}from"./index-DEmdhtkv.js";import{a as F}from"./index-DW_MHI2K.js";import{C as y,a as Q}from"./CCardBody-D_V14yWh.js";import{C as A}from"./CCardHeader-DibV801G.js";import{b as w}from"./CContainer-l_OEV5c6.js";import{C as D}from"./DefaultLayout-CaBZ_LUG.js";import{C as h,a as x,b as d,c as i,d as j,e as n}from"./CTable-DNInGac6.js";import"./index.esm-PQ4dROIH.js";import"./CNavItem-8rHQpnzQ.js";import"./CCloseButton-B-4_Krdy.js";import"./cil-user-Ddrdy7PS.js";import"./CForm-BvvF_kaV.js";import"./CFormTextarea-Sbd1P89c.js";import"./CFormControlWrapper-CnvfyOx9.js";import"./index-Dkr2Hnkf.js";const g="https://backend-log2.axleshift.com/api/v1/rfq",G=()=>{var p;const{id:o}=b(),N=v(),[s,f]=c.useState(null),[C,m]=c.useState(!0),[T,u]=c.useState(null);return c.useEffect(()=>{(async()=>{var t,a;if(!o){u("Invalid RFQ ID"),m(!1);return}try{console.log("Fetching RFQ from:",`${g}/${o}`);const l=await F.get(`${g}/${o}`);console.log("RFQ Data Received:",l.data),f(l.data)}catch(l){console.error("Error fetching RFQ details:",l),u(((a=(t=l.response)==null?void 0:t.data)==null?void 0:a.message)||"Failed to load RFQ")}finally{m(!1)}})()},[o]),C?e.jsx(R,{color:"primary"}):s?e.jsx(e.Fragment,{children:e.jsxs(y,{children:[e.jsxs(A,{children:[e.jsx("h5",{children:"RFQ Details"}),e.jsx(w,{color:"secondary",onClick:()=>N(-1),children:"Back to RFQ List"})]}),e.jsxs(Q,{children:[e.jsxs("h6",{children:[e.jsx("strong",{children:"RFQ Number:"})," ",s.rfqNumber]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Title:"})," ",s.title]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Description:"})," ",s.description||"No description available"]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Status:"}),e.jsx(D,{color:s.status==="Open"?"success":s.status==="Awarded"?"warning":"danger",children:s.status})]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Created By:"})," ",((p=s.createdBy)==null?void 0:p.email)||"Unknown"]}),e.jsxs("h6",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(s.createdAt).toLocaleDateString()]}),e.jsx("hr",{}),e.jsx("h6",{children:e.jsx("strong",{children:"Items"})}),e.jsxs(h,{hover:!0,responsive:!0,children:[e.jsx(x,{children:e.jsxs(d,{children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Quantity"}),e.jsx(i,{children:"Unit"})]})}),e.jsx(j,{children:s.items.length>0?s.items.map((r,t)=>e.jsxs(d,{children:[e.jsx(n,{children:r.name||"No name"}),e.jsx(n,{children:r.quantity||"N/A"}),e.jsx(n,{children:r.unit||"N/A"})]},t)):e.jsx(d,{children:e.jsx(n,{colSpan:"3",children:"No items listed"})})})]}),e.jsx("hr",{}),e.jsx("h6",{children:e.jsx("strong",{children:"Vendors"})}),s.vendors.length>0?e.jsxs(h,{hover:!0,responsive:!0,children:[e.jsx(x,{children:e.jsxs(d,{children:[e.jsx(i,{children:"Business Name"}),e.jsx(i,{children:"Contact Person"}),e.jsx(i,{children:"Phone Number"})]})}),e.jsx(j,{children:s.vendors.map((r,t)=>e.jsxs(d,{children:[e.jsx(n,{children:r.businessName||"N/A"}),e.jsx(n,{children:r.fullName||"N/A"}),e.jsx(n,{children:r.contactNumber||"N/A"})]},t))})]}):e.jsx("p",{children:"No vendors added yet."}),e.jsx("hr",{}),e.jsx("h6",{children:e.jsx("strong",{children:"Quotes"})}),s.quotes.length>0?e.jsxs(h,{hover:!0,responsive:!0,children:[e.jsx(x,{children:e.jsxs(d,{children:[e.jsx(i,{children:"Vendor"}),e.jsx(i,{children:"Price"}),e.jsx(i,{children:"Delivery Time"}),e.jsx(i,{children:"Additional Notes"})]})}),e.jsx(j,{children:s.quotes.map((r,t)=>{var a;return e.jsxs(d,{children:[e.jsx(n,{children:((a=r.vendor)==null?void 0:a.businessName)||"Unknown Vendor"}),e.jsxs(n,{children:["$",r.price||"N/A"]}),e.jsx(n,{children:r.deliveryTime||"N/A"}),e.jsx(n,{children:r.additionalNotes||"No additional notes"})]},t)})})]}):e.jsx("p",{children:"No quotes submitted yet."}),e.jsx("hr",{}),s.awardedVendor?e.jsxs("h6",{children:[e.jsx("strong",{children:"Awarded Vendor:"})," ",s.awardedVendor.businessName||s.awardedVendor]}):e.jsx("p",{children:"No vendor awarded yet."})]})]})}):e.jsx("div",{children:"No RFQ found."})};export{G as default};
