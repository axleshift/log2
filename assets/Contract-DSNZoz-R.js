import{r,R as e,C as A}from"./index-CVXZKmLB.js";import{C as b,a as h}from"./CCardBody-Dgfl31BA.js";import{C as S}from"./CCardHeader-kl5Q3YQb.js";import{C as P}from"./CAlert-2eDP0SyD.js";import{C as w}from"./CForm-CknhkglT.js";import{C as o,a as l}from"./CRow-DsyirR-w.js";import{C}from"./CFormInput-Clsh0Ufx.js";import{C as L}from"./CFormTextarea-CSaJPm5V.js";import{b as g,a as _}from"./CContainer-CUBQWJe-.js";import{C as V}from"./CNav-D1N1g9Dm.js";import{l as x,m as D}from"./CNavItem-Di_elR9g.js";import{C as F,a as N}from"./CTabPane-L2Cw2IRi.js";import"./CCloseButton-Ep9ySGeW.js";import"./CFormControlWrapper-B3qIZ7fL.js";const f={price:1e3,deliveryDate:"2025-03-01",terms:"Payment upon delivery"};function M(){const[a,n]=r.useState(f.price),[E,p]=r.useState(f.deliveryDate),[u,k]=r.useState(f.terms),[m,i]=r.useState(!1),[c,v]=r.useState(null),d=()=>{i(!0),v(null),setTimeout(()=>{alert("Contract created successfully"),i(!1)},1e3)};return e.createElement("div",{className:"p-4"},e.createElement(b,null,e.createElement(S,null,e.createElement("h2",null,"Create Contract")),e.createElement(h,null,c&&e.createElement(P,{color:"danger"},c),e.createElement(w,null,e.createElement(o,{className:"mb-3"},e.createElement(l,{xs:"12",md:"6"},e.createElement("label",null,"Price"),e.createElement(C,{type:"number",value:a,onChange:s=>n(s.target.value),placeholder:"Enter price",required:!0})),e.createElement(l,{xs:"12",md:"6"},e.createElement("label",null,"Delivery Date"),e.createElement(C,{type:"date",value:E,onChange:s=>p(s.target.value),required:!0}))),e.createElement(o,{className:"mb-3"},e.createElement(l,{xs:"12"},e.createElement("label",null,"Terms"),e.createElement(L,{value:u,onChange:s=>k(s.target.value),rows:"3",placeholder:"Enter terms",required:!0}))),e.createElement(g,{color:"primary",onClick:d,disabled:m},m?"Creating...":"Create Contract")))))}const q=[{_id:"1",product:{name:"Product A"},vendor:{name:"Vendor X"},status:"Pending",price:1e3,deliveryDate:"2025-03-01",terms:"Payment upon delivery"},{_id:"2",product:{name:"Product B"},vendor:{name:"Vendor Y"},status:"Active",price:1500,deliveryDate:"2025-02-20",terms:"30 days payment"},{_id:"3",product:{name:"Product C"},vendor:{name:"Vendor Z"},status:"Completed",price:2e3,deliveryDate:"2025-02-15",terms:"Cash on delivery"}];function B(){const[a,n]=r.useState([]),[E,p]=r.useState(!0),[u,k]=r.useState(null),[m,i]=r.useState(""),[c,v]=r.useState("");r.useEffect(()=>{setTimeout(()=>{n(q),p(!1)},1e3)},[]);const d=(t,T)=>{n(a.map(y=>y._id===t?{...y,status:T}:y)),alert("Contract status updated successfully")},s=a.filter(t=>t.product.name.toLowerCase().includes(m.toLowerCase())||t.vendor.name.toLowerCase().includes(m.toLowerCase())).filter(t=>c?t.status===c:!0);return E?e.createElement("div",{className:"p-4 text-center"},e.createElement(A,{color:"primary",size:"sm"}),e.createElement("p",null,"Loading contracts...")):u?e.createElement(P,{color:"danger",className:"p-4"},u):e.createElement("div",{className:"p-4"},e.createElement("h2",null,"All Contracts"),e.createElement(o,{className:"mb-4"},e.createElement(l,{xs:"12",md:"6"},e.createElement(C,{type:"text",placeholder:"Search by Product or Vendor",value:m,onChange:t=>i(t.target.value)})),e.createElement(l,{xs:"12",md:"6"},e.createElement(C,{type:"text",placeholder:"Filter by Status (Pending, Active, Completed)",value:c,onChange:t=>v(t.target.value)}))),e.createElement("div",{className:"grid grid-cols-1 gap-4"},s.map(t=>e.createElement(b,{key:t._id,className:"mb-4"},e.createElement(S,null,e.createElement("h4",null,t.product.name," - ",t.vendor.name)),e.createElement(h,null,e.createElement("p",null,e.createElement("strong",null,"Status:")," ",t.status),e.createElement("p",null,e.createElement("strong",null,"Price:")," $",t.price),e.createElement("p",null,e.createElement("strong",null,"Delivery Date:")," ",t.deliveryDate),e.createElement("p",null,e.createElement("strong",null,"Terms:")," ",t.terms),e.createElement(o,{className:"mt-3"},e.createElement(l,{xs:"12",md:"6"},e.createElement(g,{color:"primary",onClick:()=>d(t._id,"Active"),disabled:t.status==="Active",block:"true"},"Mark as Active")),e.createElement(l,{xs:"12",md:"6"},e.createElement(g,{color:"success",onClick:()=>d(t._id,"Completed"),disabled:t.status==="Completed",block:"true"},"Mark as Completed"))))))))}const O=()=>{const[a,n]=r.useState(0);return e.createElement(_,null,e.createElement(o,null,e.createElement(l,null,e.createElement(b,null,e.createElement(S,null,e.createElement("h3",null,"Contract Management")),e.createElement(h,null,e.createElement(V,{variant:"tabs"},e.createElement(x,null,e.createElement(D,{active:a===0,onClick:()=>n(0)},"CreateContract")),e.createElement(x,null,e.createElement(D,{active:a===1,onClick:()=>n(1)},"ViewContracts"))),e.createElement(F,null,e.createElement(N,{visible:a===0},e.createElement(M,null)),e.createElement(N,{visible:a===1},e.createElement(B,null))))))))};export{O as default};
