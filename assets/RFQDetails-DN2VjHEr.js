import{y as A,i as B,r as o,R as e,C as T}from"./index-C0MG7gOk.js";import{a as k}from"./index-C88pvD_q.js";import{C as q,a as I}from"./CCardBody-Wr9BajUr.js";import{C as P}from"./CCardHeader-BoaJFAwJ.js";import{b as U}from"./CContainer-BYftmdTc.js";import{C as V}from"./DefaultLayout-Dc9bnGvy.js";import{C as d,a as p,b as r,c as a,d as N,e as n}from"./CTable-qSDab6GE.js";import"./index.esm-DwHJH4rA.js";import"./CNavItem-B6b82TVt.js";import"./CCloseButton-DkKfOC9_.js";import"./cil-user-Ddrdy7PS.js";import"./index-DuFds1xd.js";const L="https://backend-log2.axleshift.com/api/v1/rfq",Y=()=>{var h,b,x,R;const{id:u}=A(),F=B(),[t,S]=o.useState(null),[D,i]=o.useState(!0),[f,g]=o.useState(null);if(o.useEffect(()=>{(async()=>{var s,c;if(!u){g("Invalid RFQ ID"),i(!1);return}try{i(!0);const{data:m}=await k.get(`${L}/${u}`);S(m.rfq)}catch(m){g(((c=(s=m.response)==null?void 0:s.data)==null?void 0:c.message)||"Failed to load RFQ")}finally{i(!1)}})()},[u]),D)return e.createElement(T,{color:"primary"});if(f)return e.createElement("div",{className:"text-danger"},f);if(!t)return e.createElement("div",null,"No RFQ found.");const C=t.products||[],v=t.invitedVendors||[],y=t.quotes||[],E=t.selectedVendor||null;return e.createElement(q,null,e.createElement(P,{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",null,"RFQ Details"),e.createElement(U,{color:"secondary",onClick:()=>F(-1)},"Back to RFQ List")),e.createElement(I,null,e.createElement("div",{className:"d-flex flex-wrap mb-3"},e.createElement("div",{className:"w-50"},e.createElement("strong",null,"RFQ ID:")," ",t._id),e.createElement("div",{className:"w-50"},e.createElement("strong",null,"Title:")," ",((h=t.procurementId)==null?void 0:h.title)||"N/A"),e.createElement("div",{className:"w-50"},e.createElement("strong",null,"Description:")," ",((b=t.procurementId)==null?void 0:b.description)||"No description available"),e.createElement("div",{className:"w-50"},e.createElement("strong",null,"Status:"),e.createElement(V,{color:t.status==="Open"?"success":t.status==="Closed"?"danger":"warning"},t.status)),e.createElement("div",{className:"w-50"},e.createElement("strong",null,"Created By:")," ",((x=t.requestedBy)==null?void 0:x.name)||((R=t.requestedBy)==null?void 0:R.email)||"Unknown"),e.createElement("div",{className:"w-50"},e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString())),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(d,{hover:!0,responsive:!0,className:"text-center"},e.createElement(p,null,e.createElement(r,null,e.createElement(a,null,"Name"),e.createElement(a,null,"Specs"),e.createElement(a,null,"Quantity"))),e.createElement(N,null,C.length>0?C.map((l,s)=>e.createElement(r,{key:s},e.createElement(n,null,l.name||"No name"),e.createElement(n,null,l.specs||"No specs"),e.createElement(n,null,l.quantity||"N/A"))):e.createElement(r,null,e.createElement(n,{colSpan:"3",className:"text-center"},"No products listed")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Invited Vendors")),e.createElement(d,{hover:!0,responsive:!0,className:"text-center"},e.createElement(p,null,e.createElement(r,null,e.createElement(a,null,"Business Name"),e.createElement(a,null,"Contact Person"),e.createElement(a,null,"Phone Number"),e.createElement(a,null,"User Email"))),e.createElement(N,null,v.length>0?v.map((l,s)=>{var c;return e.createElement(r,{key:s},e.createElement(n,null,l.businessName||"N/A"),e.createElement(n,null,l.fullName||"N/A"),e.createElement(n,null,l.contactNumber||"N/A"),e.createElement(n,null,((c=l.user)==null?void 0:c.email)||"No Email"))}):e.createElement(r,null,e.createElement(n,{colSpan:"4",className:"text-center"},"No vendors added yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Quotes")),e.createElement(d,{hover:!0,responsive:!0,className:"text-center"},e.createElement(p,null,e.createElement(r,null,e.createElement(a,null,"Vendor"),e.createElement(a,null,"Price Per Unit"),e.createElement(a,null,"Delivery Time"),e.createElement(a,null,"Status"))),e.createElement(N,null,y.length>0?y.map((l,s)=>{var c,m,w,Q;return e.createElement(r,{key:s},e.createElement(n,null,l.vendorName||"Unknown Vendor"),e.createElement(n,null,((m=(c=l.quoteDetails)==null?void 0:c[0])==null?void 0:m.pricePerUnit)||"N/A"),e.createElement(n,null,((Q=(w=l.quoteDetails)==null?void 0:w[0])==null?void 0:Q.deliveryTime)||"N/A"),e.createElement(n,null,l.status||"Pending"))}):e.createElement(r,null,e.createElement(n,{colSpan:"4",className:"text-center"},"No quotes submitted yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Selected Vendor:")," ",(E==null?void 0:E.businessName)||e.createElement("span",{className:"text-muted"},"No vendor selected yet."))))};export{Y as default};
