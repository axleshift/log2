import{y as S,i as q,r as m,R as e,C as A}from"./index-DQP8N3_v.js";import{a as D}from"./index-C88pvD_q.js";import{C as w,a as T}from"./CCardBody-DhxhUCKr.js";import{C as k}from"./CCardHeader-aqV2zWI-.js";import{b as U}from"./CContainer-B5X986nK.js";import{C as L}from"./DefaultLayout-Qp2vNndn.js";import{C as b,a as R,b as s,c as n,d as F,e as a}from"./CTable-BMBWZ6R4.js";import"./index.esm-QyN5VXAl.js";import"./CNavItem-BP7P-adU.js";import"./CCloseButton-B0Lgjfr_.js";import"./cil-user-Ddrdy7PS.js";import"./index-tOFcNw6a.js";const P="https://backend-log2.axleshift.com/api/v1/rfq",X=()=>{var C,g,v,y,h;const{id:o}=S(),Q=q(),[t,x]=m.useState(null),[B,u]=m.useState(!0),[E,N]=m.useState(null);if(m.useEffect(()=>{(async()=>{var r,c;if(!o){N("Invalid RFQ ID"),u(!1);return}try{u(!0);const{data:d}=await D.get(`${P}/${o}`);x(d.rfq)}catch(d){N(((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to load RFQ")}finally{u(!1)}})()},[o]),B)return e.createElement(A,{color:"primary"});if(E)return e.createElement("div",{className:"text-danger"},E);if(!t)return e.createElement("div",null,"No RFQ found.");const p=t.products||[],f=t.vendors||[];t.quotes;const i=t.selectedVendor||null,I=((C=t.requestedBy)==null?void 0:C.email)||((v=(g=t.procurementId)==null?void 0:g.requestedBy)==null?void 0:v.email)||"Unknown";return e.createElement(w,null,e.createElement(k,{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",null,"RFQ Details"),e.createElement(U,{color:"secondary",onClick:()=>Q(-1)},"Back to RFQ List")),e.createElement(T,null,e.createElement("div",{className:"row mb-3"},e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"RFQ ID:")," ",t._id),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Title:")," ",((y=t.procurementId)==null?void 0:y.title)||"N/A"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Description:")," ",((h=t.procurementId)==null?void 0:h.description)||"No description available"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Status:"),e.createElement(L,{color:t.status==="Open"?"success":t.status==="Closed"?"danger":"warning"},t.status)),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created By:")," ",I),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString())),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(b,{hover:!0,responsive:!0,className:"text-center"},e.createElement(R,null,e.createElement(s,null,e.createElement(n,null,"Name"),e.createElement(n,null,"Quantity"),e.createElement(n,null,"Unit"))),e.createElement(F,null,p.length>0?p.map((l,r)=>e.createElement(s,{key:r},e.createElement(a,null,l.name||"No name"),e.createElement(a,null,l.quantity||"N/A"),e.createElement(a,null,l.unit||"No Unit"))):e.createElement(s,null,e.createElement(a,{colSpan:"3",className:"text-center"},"No products listed")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Invited Vendors")),e.createElement(b,{hover:!0,responsive:!0,className:"text-center"},e.createElement(R,null,e.createElement(s,null,e.createElement(n,null,"Business Name"),e.createElement(n,null,"Contact Person"),e.createElement(n,null,"Phone Number"),e.createElement(n,null,"User Email"))),e.createElement(F,null,f.length>0?f.map((l,r)=>{var c;return e.createElement(s,{key:r},e.createElement(a,null,l.businessName||"N/A"),e.createElement(a,null,l.fullName||"N/A"),e.createElement(a,null,l.contactNumber||"N/A"),e.createElement(a,null,((c=l.userId)==null?void 0:c.email)||"No Email"))}):e.createElement(s,null,e.createElement(a,{colSpan:"4",className:"text-center"},"No vendors added yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Selected Vendor:")," ",(i==null?void 0:i.businessName)||e.createElement("span",{className:"text-muted"},"No vendor selected yet."))))};export{X as default};
