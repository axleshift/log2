import{r as o,_ as S,R as r,a as T,c as I,P as t,m as R,j as e,L,f as W,C as P}from"./index-yeD2k8LS.js";import{a as w}from"./axios-DXsv3KKR.js";import{C as E}from"./index.esm-BMN100-7.js";import{C as h,a as v}from"./CRow-zcBxoxhf.js";import{C as O,a as A}from"./CCardBody-PxKnXAH0.js";import{C as k}from"./CCardFooter-DXz9UJT8.js";import{C}from"./CContainer-Cc_TBAJl.js";import{C as M}from"./CAlert-Wo6FvfzX.js";import"./CCloseButton-Z9Co6YUO.js";import"./Transition-D4-jAIgO.js";var x=o.forwardRef(function(s,d){var a,c=s.action,u=s.chart,p=s.className,n=s.color,i=s.title,l=s.value,m=S(s,["action","chart","className","color","title","value"]);return r.createElement(O,T({className:I((a={},a["bg-".concat(n)]=n,a["text-white"]=n,a),p)},m,{ref:d}),r.createElement(A,{className:"pb-0 d-flex justify-content-between align-items-start"},r.createElement("div",null,l&&r.createElement("div",{className:"fs-4 fw-semibold"},l),i&&r.createElement("div",null,i)),c),u)});x.propTypes={action:t.node,chart:t.oneOfType([t.string,t.node]),className:t.string,color:R,title:t.oneOfType([t.string,t.node]),value:t.oneOfType([t.string,t.node,t.number])};x.displayName="CWidgetStatsA";var N=o.forwardRef(function(s,d){var a=s.className,c=s.color,u=s.footer,p=s.icon,n=s.padding,i=n===void 0?!0:n,l=s.title,m=s.value,g=S(s,["className","color","footer","icon","padding","title","value"]);return r.createElement(O,T({className:a},g,{ref:d}),r.createElement(A,{className:"d-flex align-items-center ".concat(i===!1&&"p-0")},r.createElement("div",{className:"me-3 text-white bg-".concat(c," ").concat(i?"p-3":"p-4")},p),r.createElement("div",null,r.createElement("div",{className:"fs-6 fw-semibold text-".concat(c)},m),r.createElement("div",{className:"text-body-secondary text-uppercase fw-semibold small"},l))),u&&r.createElement(k,null,u))});N.propTypes={className:t.string,color:R,footer:t.oneOfType([t.string,t.node]),icon:t.oneOfType([t.string,t.node]),padding:t.bool,title:t.oneOfType([t.string,t.node]),value:t.oneOfType([t.string,t.node,t.number])};N.displayName="CWidgetStatsF";var F=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='359.873 121.377 337.246 144.004 433.243 240.001 16 240.001 16 240.002 16 272.001 16 272.002 433.24 272.002 337.246 367.996 359.873 390.623 494.498 256 359.873 121.377' class='ci-primary'/>"],$=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M105.361,398.32A195.891,195.891,0,0,1,343.42,91.125L366.676,67.87A227.875,227.875,0,0,0,82.733,420.948,228.027,228.027,0,0,0,366.24,452.1l-23.312-23.312C267.9,472.768,169.657,462.617,105.361,398.32Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M468.916,353.07a243.542,243.542,0,0,0,0-186.459c-.885-2.136-1.806-4.251-2.747-6.354A242.246,242.246,0,0,0,416.11,87.571L404.8,76.257,393.483,87.571,221.213,259.84l172.63,172.631L404.8,443.424,416.11,432.11a242.218,242.218,0,0,0,49.452-71.358C466.716,358.212,467.844,355.657,468.916,353.07ZM404.359,121.95a211.57,211.57,0,0,1,0,275.781L266.468,259.84Z' class='ci-primary'/>"];const U=()=>{const[s,d]=o.useState(0),[a,c]=o.useState(0);return e.jsx(e.Fragment,{children:e.jsx(h,{children:e.jsx(v,{xs:6,children:e.jsx(N,{className:"mb-3",color:"info",footer:e.jsxs(L,{to:"/logistics",children:["View more",e.jsx(E,{icon:F,className:"float-end",width:16})]}),icon:e.jsx(E,{icon:$,height:24}),title:"Shipments Overview",value:`Incoming: ${s}, Outgoing: ${a}`})})})})},K=()=>{const[s,d]=o.useState([]),[a,c]=o.useState([]),[u,p]=o.useState(!0),[n,i]=o.useState(null),[l,m]=o.useState(null),g="https://backend-log2.axleshift.com/api/v1/warehouse",j="https://backend-log2.axleshift.com/api/v1/inventory",b=W();return o.useEffect(()=>{w.get(g).then(f=>{const y=f.data;d(y)}).catch(f=>{i("There was an error fetching warehouses!")}),w.get(j).then(f=>{const y=f.data;c(y),p(!1)}).catch(f=>{i("There was an error fetching inventory!"),p(!1)})},[g,j]),u?e.jsx(C,{fluid:!0,children:e.jsx(h,{className:"justify-content-center",children:e.jsx(P,{color:"primary",size:"sm"})})}):n?e.jsx(C,{fluid:!0,children:e.jsx(h,{className:"justify-content-center",children:e.jsx("div",{className:"alert alert-danger",children:n})})}):e.jsxs(C,{fluid:!0,className:"px-5 py-4",children:[e.jsx("h1",{className:"mb-4",children:"Dashboard"}),e.jsxs(h,{children:[e.jsx(v,{sm:"12",md:"6",lg:"4",children:e.jsx(x,{className:"mb-4",color:"primary",value:s.length,title:"Warehouses",icon:e.jsx("i",{className:"cil-building"}),onClick:()=>{b("/warehouse"),m("Redirecting to warehouse details")},style:{cursor:"pointer",padding:"3rem"}})}),e.jsx(v,{sm:"12",md:"6",lg:"4",children:e.jsx(x,{className:"mb-4",color:"info",value:a.length,title:"Inventory Items",icon:e.jsx("i",{className:"cil-cube"}),onClick:()=>{b("/inventory"),m("Redirecting to inventory details")},style:{cursor:"pointer",padding:"3rem"}})})]}),l&&e.jsx(M,{color:"success",onClose:()=>m(null),dismissible:!0,children:l}),e.jsx(h,{className:"mt-4",children:e.jsx(v,{xs:12,children:e.jsx(U,{})})})]})};export{K as default};
