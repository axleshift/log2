import{z as S,n as q,r as m,R as e,C as A}from"./index-Bssbm-fd.js";import{a as D}from"./index-xsH4HHeE.js";import{C as k,a as w}from"./CCardBody-BU00XEQg.js";import{C as T}from"./CCardHeader-BXtiEdJm.js";import{c as U}from"./CRow-uH_blvVY.js";import{C as L}from"./DefaultLayout-CbRk2hlK.js";import{g as R,h as b,j as s,k as n,l as F,m as a}from"./CTable-cn4j4K2W.js";import"./CFormInput-DmL79IaE.js";import"./CFormTextarea-DF-NlZvp.js";import"./CFormSelect-D8Ex4xlB.js";import"./CCloseButton-exPxTq0R.js";import"./CForm-B1oHxOBf.js";import"./index.esm-C4mC8UfA.js";import"./CAlert-D-0t6m2N.js";import"./cil-user-Ddrdy7PS.js";import"./index-C5qLkqXT.js";const P="https://backend-log2.axleshift.com/api/v1/rfq",te=()=>{var C,g,v,h,y;const{id:o}=S(),Q=q(),[t,x]=m.useState(null),[B,u]=m.useState(!0),[E,p]=m.useState(null);if(m.useEffect(()=>{(async()=>{var r,c;if(!o){p("Invalid RFQ ID"),u(!1);return}try{u(!0);const{data:d}=await D.get(`${P}/${o}`);x(d.rfq)}catch(d){p(((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to load RFQ")}finally{u(!1)}})()},[o]),B)return e.createElement(A,{color:"primary"});if(E)return e.createElement("div",{className:"text-danger"},E);if(!t)return e.createElement("div",null,"No RFQ found.");const N=t.products||[],f=t.vendors||[];t.quotes;const i=t.selectedVendor||null,I=((C=t.requestedBy)==null?void 0:C.email)||((v=(g=t.procurementId)==null?void 0:g.requestedBy)==null?void 0:v.email)||"Unknown";return e.createElement(k,null,e.createElement(T,{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",null,"RFQ Details"),e.createElement(U,{color:"secondary",onClick:()=>Q(-1)},"Back to RFQ List")),e.createElement(w,null,e.createElement("div",{className:"row mb-3"},e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"RFQ ID:")," ",t._id),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Title:")," ",((h=t.procurementId)==null?void 0:h.title)||"N/A"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Description:")," ",((y=t.procurementId)==null?void 0:y.description)||"No description available"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Status:"),e.createElement(L,{color:t.status==="Open"?"success":t.status==="Closed"?"danger":"warning"},t.status)),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created By:")," ",I),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString())),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(R,{hover:!0,responsive:!0,className:"text-center"},e.createElement(b,null,e.createElement(s,null,e.createElement(n,null,"Name"),e.createElement(n,null,"Quantity"),e.createElement(n,null,"Unit"))),e.createElement(F,null,N.length>0?N.map((l,r)=>e.createElement(s,{key:r},e.createElement(a,null,l.name||"No name"),e.createElement(a,null,l.quantity||"N/A"),e.createElement(a,null,l.unit||"No Unit"))):e.createElement(s,null,e.createElement(a,{colSpan:"3",className:"text-center"},"No products listed")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Invited Vendors")),e.createElement(R,{hover:!0,responsive:!0,className:"text-center"},e.createElement(b,null,e.createElement(s,null,e.createElement(n,null,"Business Name"),e.createElement(n,null,"Contact Person"),e.createElement(n,null,"Phone Number"),e.createElement(n,null,"User Email"))),e.createElement(F,null,f.length>0?f.map((l,r)=>{var c;return e.createElement(s,{key:r},e.createElement(a,null,l.businessName||"N/A"),e.createElement(a,null,l.fullName||"N/A"),e.createElement(a,null,l.contactNumber||"N/A"),e.createElement(a,null,((c=l.userId)==null?void 0:c.email)||"No Email"))}):e.createElement(s,null,e.createElement(a,{colSpan:"4",className:"text-center"},"No vendors added yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Selected Vendor:")," ",(i==null?void 0:i.businessName)||e.createElement("span",{className:"text-muted"},"No vendor selected yet."))))};export{te as default};
