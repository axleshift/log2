import{r as s,R as e,P as f}from"./index-CVXZKmLB.js";import{C as H,a as N}from"./CCardBody-Dgfl31BA.js";import{C as U}from"./CCardHeader-kl5Q3YQb.js";import{C as x}from"./CNav-D1N1g9Dm.js";import{l as d,m as p}from"./CNavItem-Di_elR9g.js";import{C as D,a as h}from"./CTabPane-L2Cw2IRi.js";import{C,a as R,b as u,c as r,d as b,e as a}from"./CTable-CvbzxBxb.js";import{b as o}from"./CContainer-CUBQWJe-.js";import"./CCloseButton-Ep9ySGeW.js";const J=()=>{const[n,t]=s.useState("orders"),[c,v]=s.useState([]),[T,y]=s.useState([]),[S,g]=s.useState(!0),[O,w]=s.useState(!0),[E,k]=s.useState(null),[i,A]=s.useState(null),I="https://backend-log2.axleshift.com/api/v1/purchaseOrder",L="https://backend-log2.axleshift.com/api/v1/purchaseRequests";return s.useEffect(()=>{(async()=>{try{const l=await fetch(I);if(!l.ok)throw new Error("Failed to fetch purchase orders");const m=await l.json();v(m)}catch(l){k(l.message)}finally{g(!1)}})()},[]),s.useEffect(()=>{(async()=>{try{const l=await fetch(L);if(!l.ok)throw new Error("Failed to fetch purchase requests");const m=await l.json();y(m)}catch(l){A(l.message)}finally{w(!1)}})()},[]),e.createElement(H,null,e.createElement(U,null,e.createElement("h4",null,"Purchase Management")),e.createElement(N,null,e.createElement(x,{variant:"tabs"},e.createElement(d,null,e.createElement(p,{active:n==="orders",onClick:()=>t("orders")},"Purchase Orders")),e.createElement(d,null,e.createElement(p,{active:n==="requests",onClick:()=>t("requests")},"Purchase Requests"))),e.createElement(D,null,e.createElement(h,{visible:n==="orders"},S?e.createElement("p",null,"Loading Purchase Orders..."):E?e.createElement("p",null,"Error: ",E):e.createElement(P,{data:c})),e.createElement(h,{visible:n==="requests"},O?e.createElement("p",null,"Loading Purchase Requests..."):i?e.createElement("p",null,"Error: ",i):e.createElement(q,{data:T})))))},P=({data:n})=>e.createElement(C,{bordered:!0,hover:!0,responsive:!0},e.createElement(R,null,e.createElement(u,null,e.createElement(r,null,"#"),e.createElement(r,null,"Order ID"),e.createElement(r,null,"Supplier"),e.createElement(r,null,"Status"),e.createElement(r,null,"Actions"))),e.createElement(b,null,n.map((t,c)=>e.createElement(u,{key:`${t.id}-${c}`},e.createElement(a,null,t.id),e.createElement(a,null,t.orderId),e.createElement(a,null,t.supplier),e.createElement(a,null,t.status),e.createElement(a,null,e.createElement(o,{color:"info"},"View"),e.createElement(o,{color:"warning",className:"ms-2"},"Edit")))))),q=({data:n})=>e.createElement(C,{bordered:!0,hover:!0,responsive:!0},e.createElement(R,null,e.createElement(u,null,e.createElement(r,null,"#"),e.createElement(r,null,"Request ID"),e.createElement(r,null,"Supplier"),e.createElement(r,null,"Status"),e.createElement(r,null,"Actions"))),e.createElement(b,null,n.map((t,c)=>e.createElement(u,{key:`${t.id}-${c}`},e.createElement(a,null,t.id),e.createElement(a,null,t.requestId),e.createElement(a,null,t.supplier),e.createElement(a,null,t.status),e.createElement(a,null,e.createElement(o,{color:"info"},"View"),e.createElement(o,{color:"warning",className:"ms-2"},"Edit"))))));P.propTypes={data:f.array.isRequired};q.propTypes={data:f.array.isRequired};export{J as default};
