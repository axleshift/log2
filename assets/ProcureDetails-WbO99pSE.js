import{z as P,n as D,u as y,r as o,R as e,C as v}from"./index-Czk1en48.js";import{a as S}from"./index-xsH4HHeE.js";import{C as T,a as b}from"./CCardBody-Fly4LOGC.js";import{C as B}from"./CCardHeader-DYgh3k3A.js";import{c as N}from"./CRow-COWDqcej.js";import{C as R}from"./DefaultLayout-RSXezbv-.js";import{e as k,f as w,g as i,h as c,j as x,k as l}from"./CTable-D_U4Alk1.js";import"./CFormInput-BMJoeGH4.js";import"./CFormTextarea-CbFIJlat.js";import"./CFormSelect-DbfrKTkb.js";import"./CCloseButton-jv1sHiMY.js";import"./CForm-DpxG6y2y.js";import"./index.esm-Cuh8qHpg.js";import"./CAlert-DUOQnrT6.js";import"./cil-user-Ddrdy7PS.js";import"./index-lIfIVm9I.js";const L="https://backend-log2.axleshift.com/api/v1/procurement",W=()=>{var p,g;const{id:m}=P(),C=D(),{user:U}=y(),[t,f]=o.useState(null),[h,s]=o.useState(!0),[E,d]=o.useState(null);return o.useEffect(()=>{(async()=>{var a,n;if(!m){d("Invalid Procurement ID"),s(!1);return}try{s(!0);const u=await S.get(`${L}/${m}`);f(u.data)}catch(u){d(((n=(a=u.response)==null?void 0:a.data)==null?void 0:n.message)||"Failed to load Procurement")}finally{s(!1)}})()},[m]),h?e.createElement(v,{color:"primary"}):E?e.createElement("div",null,E):t?e.createElement(T,null,e.createElement(B,null,e.createElement("h5",null,"Procurement Details"),e.createElement(N,{color:"secondary",onClick:()=>C(-1)},"Back to Procurement List")),e.createElement(b,null,e.createElement("h6",null,e.createElement("strong",null,"Procurement ID:")," ",t._id),e.createElement("h6",null,e.createElement("strong",null,"Title:")," ",t.title),e.createElement("h6",null,e.createElement("strong",null,"Description:")," ",t.description||"No description provided"),e.createElement("h6",null,e.createElement("strong",null,"Department:")," ",t.department),e.createElement("h6",null,e.createElement("strong",null,"Status:")," ",e.createElement(R,{color:t.status==="Pending"?"warning":t.status==="Approved"?"success":"danger"},t.status)),e.createElement("h6",null,e.createElement("strong",null,"Requested By:")," ",((p=t.requestedBy)==null?void 0:p.email)||"Unknown"),e.createElement("h6",null,e.createElement("strong",null,"Procurement Date:")," ",new Date(t.procurementDate).toLocaleDateString()),e.createElement("h6",null,e.createElement("strong",null,"Delivery Date:")," ",new Date(t.deliveryDate).toLocaleDateString()),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Products")),e.createElement(k,{hover:!0,responsive:!0},e.createElement(w,null,e.createElement(i,null,e.createElement(c,null,"Name"),e.createElement(c,null,"Quantity"),e.createElement(c,null,"Unit"),e.createElement(c,null,"Unit Price"))),e.createElement(x,null,((g=t.products)==null?void 0:g.length)>0?t.products.map((r,a)=>{var n;return e.createElement(i,{key:a},e.createElement(l,null,r.name),e.createElement(l,null,r.quantity),e.createElement(l,null,r.unit),e.createElement(l,null,((n=r.unitPrice)==null?void 0:n.toFixed(2))||"N/A"))}):e.createElement(i,null,e.createElement(l,{colSpan:"4"},"No products added yet.")))),e.createElement("hr",null))):e.createElement("div",null,"No Procurement found.")};export{W as default};
