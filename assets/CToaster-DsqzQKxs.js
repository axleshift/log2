import{r,_ as v,a as c,b as d,c as w,P as n,d as I,j as O,z as V,R as j}from"./index-BtAkPo-w.js";import{u as J,T as Q,C as H}from"./CCloseButton-BO5fzbAE.js";import{j as U}from"./CNavItem-CT0enLx-.js";var M=r.createContext({}),z=r.forwardRef(function(e,a){var i=e.children,o=e.animation,t=o===void 0?!0:o,s=e.autohide,R=s===void 0?!0:s,y=e.className,u=e.color,m=e.delay,p=m===void 0?5e3:m,l=e.index,h=e.innerKey,b=e.visible,C=b===void 0?!1:b,T=e.onClose,N=e.onShow,q=v(e,["children","animation","autohide","className","color","delay","index","innerKey","visible","onClose","onShow"]),k=r.useRef(),D=J(a,k),K=r.useState(!1),g=K[0],E=K[1],x=r.useRef();r.useEffect(function(){E(C)},[C]);var G={visible:g,setVisible:E};r.useEffect(function(){return function(){return clearTimeout(x.current)}},[]),r.useEffect(function(){P()},[g]);var P=function(){R&&(clearTimeout(x.current),x.current=window.setTimeout(function(){E(!1)},p))};return c(Q,{in:g,nodeRef:k,onEnter:function(){return N&&N(l??null)},onExited:function(){return T&&T(l??null)},timeout:250,unmountOnExit:!0,children:function(B){var f;return c(M.Provider,{value:G,children:c("div",{...d({className:w("toast",(f={fade:t},f["bg-".concat(u)]=u,f["border-0"]=u,f["show showing"]=B==="entering"||B==="exiting",f.show=B==="entered",f),y),"aria-live":"assertive","aria-atomic":"true",role:"alert",onMouseEnter:function(){return clearTimeout(x.current)},onMouseLeave:function(){return P()}},q,{key:h,ref:D}),children:i})})}})});z.propTypes={animation:n.bool,autohide:n.bool,children:n.node,className:n.string,color:I,delay:n.number,index:n.number,innerKey:n.oneOfType([n.number,n.string]),onClose:n.func,onShow:n.func,visible:n.bool};z.displayName="CToast";var A=r.forwardRef(function(e,a){var i=e.children,o=e.className,t=v(e,["children","className"]);return c("div",{...d({className:w("toast-body",o)},t,{ref:a}),children:i})});A.propTypes={children:n.node,className:n.string};A.displayName="CToastBody";var S=r.forwardRef(function(e,a){var i=e.children,o=e.as,t=v(e,["children","as"]),s=r.useContext(M).setVisible;return o?c(o,{...d({onClick:function(){return s(!1)}},t,{ref:a}),children:i}):c(H,{...d({onClick:function(){return s(!1)}},t,{ref:a})})});S.propTypes=d(d({},H.propTypes),{as:n.elementType});S.displayName="CToastClose";var F=r.forwardRef(function(e,a){var i=e.children,o=e.className,t=e.closeButton,s=v(e,["children","className","closeButton"]);return O("div",{...d({className:w("toast-header",o)},s,{ref:a}),children:[i,t&&c(S,{})]})});F.propTypes={children:n.node,className:n.string,closeButton:n.bool};F.displayName="CToastHeader";var L=r.forwardRef(function(e,a){var i=e.children,o=e.className,t=e.placement,s=e.push,R=v(e,["children","className","placement","push"]),y=r.useState([]),u=y[0],m=y[1],p=r.useRef(0);r.useEffect(function(){p.current++,s&&l(s)},[s]);var l=function(h){m(function(b){return V(V([],b,!0),[j.cloneElement(h,{index:p.current,innerKey:p.current,onClose:function(C){return m(function(T){return T.filter(function(N){return N.props.index!==C})})}})],!1)})};return c(U,{portal:typeof t=="string",children:u.length>0||i?O("div",{...d({className:w("toaster toast-container",{"position-fixed":t,"top-0":t&&t.includes("top"),"top-50 translate-middle-y":t&&t.includes("middle"),"bottom-0":t&&t.includes("bottom"),"start-0":t&&t.includes("start"),"start-50 translate-middle-x":t&&t.includes("center"),"end-0":t&&t.includes("end")},o)},R,{ref:a}),children:[i,u.map(function(h){return j.cloneElement(h,{visible:!0})})]}):null})});L.propTypes={children:n.node,className:n.string,placement:n.oneOfType([n.string,n.oneOf(["top-start","top-center","top-end","middle-start","middle-center","middle-end","bottom-start","bottom-center","bottom-end"])]),push:n.any};L.displayName="CToaster";export{L as C,z as a,F as b,A as c};
