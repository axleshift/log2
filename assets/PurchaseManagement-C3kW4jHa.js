import{r as c,j as e,P as m}from"./index-B9rQ-kmE.js";import{C as L,a as $}from"./CCardBody-Dywmzwhl.js";import{C as H}from"./CCardHeader-C6ZKMTzh.js";import{C as N}from"./CNav-D5Jy_q-l.js";import{l as x,m as j}from"./CNavItem-DMaIUZz7.js";import{C as U,a as p}from"./CTabPane-D7Jigavr.js";import{C as f,a as C,b as d,c as r,d as R,e as a}from"./CTable-DFh1XnVU.js";import{b as o}from"./CContainer-DdWdpS7d.js";import"./CCloseButton-r9Y6HIOX.js";const J=()=>{const[i,s]=c.useState("orders"),[n,E]=c.useState([]),[q,v]=c.useState([]),[T,S]=c.useState(!0),[g,O]=c.useState(!0),[h,w]=c.useState(null),[u,y]=c.useState(null),k="https://backend-log2.axleshift.com/api/v1/purchaseOrder",A="https://backend-log2.axleshift.com/api/v1/purchaseRequests";return c.useEffect(()=>{(async()=>{try{const t=await fetch(k);if(!t.ok)throw new Error("Failed to fetch purchase orders");const l=await t.json();E(l)}catch(t){w(t.message)}finally{S(!1)}})()},[]),c.useEffect(()=>{(async()=>{try{const t=await fetch(A);if(!t.ok)throw new Error("Failed to fetch purchase requests");const l=await t.json();v(l)}catch(t){y(t.message)}finally{O(!1)}})()},[]),e.jsxs(L,{children:[e.jsx(H,{children:e.jsx("h4",{children:"Purchase Management"})}),e.jsxs($,{children:[e.jsxs(N,{variant:"tabs",children:[e.jsx(x,{children:e.jsx(j,{active:i==="orders",onClick:()=>s("orders"),children:"Purchase Orders"})}),e.jsx(x,{children:e.jsx(j,{active:i==="requests",onClick:()=>s("requests"),children:"Purchase Requests"})})]}),e.jsxs(U,{children:[e.jsx(p,{visible:i==="orders",children:T?e.jsx("p",{children:"Loading Purchase Orders..."}):h?e.jsxs("p",{children:["Error: ",h]}):e.jsx(b,{data:n})}),e.jsx(p,{visible:i==="requests",children:g?e.jsx("p",{children:"Loading Purchase Requests..."}):u?e.jsxs("p",{children:["Error: ",u]}):e.jsx(P,{data:q})})]})]})]})},b=({data:i})=>e.jsxs(f,{bordered:!0,hover:!0,responsive:!0,children:[e.jsx(C,{children:e.jsxs(d,{children:[e.jsx(r,{children:"#"}),e.jsx(r,{children:"Order ID"}),e.jsx(r,{children:"Supplier"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(R,{children:i.map((s,n)=>e.jsxs(d,{children:[e.jsx(a,{children:s.id}),e.jsx(a,{children:s.orderId}),e.jsx(a,{children:s.supplier}),e.jsx(a,{children:s.status}),e.jsxs(a,{children:[e.jsx(o,{color:"info",children:"View"}),e.jsx(o,{color:"warning",className:"ms-2",children:"Edit"})]})]},`${s.id}-${n}`))})]}),P=({data:i})=>e.jsxs(f,{bordered:!0,hover:!0,responsive:!0,children:[e.jsx(C,{children:e.jsxs(d,{children:[e.jsx(r,{children:"#"}),e.jsx(r,{children:"Request ID"}),e.jsx(r,{children:"Supplier"}),e.jsx(r,{children:"Status"}),e.jsx(r,{children:"Actions"})]})}),e.jsx(R,{children:i.map((s,n)=>e.jsxs(d,{children:[e.jsx(a,{children:s.id}),e.jsx(a,{children:s.requestId}),e.jsx(a,{children:s.supplier}),e.jsx(a,{children:s.status}),e.jsxs(a,{children:[e.jsx(o,{color:"info",children:"View"}),e.jsx(o,{color:"warning",className:"ms-2",children:"Edit"})]})]},`${s.id}-${n}`))})]});b.propTypes={data:m.array.isRequired};P.propTypes={data:m.array.isRequired};export{J as default};
