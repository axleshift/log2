import{P as e,j as n,r as _,x as P,f as E,C as U}from"./index-Be68UwgF.js";import{a as T}from"./axios-DXsv3KKR.js";import{C as A,a as k}from"./CCardBody-pE9MVyOf.js";import{C as I}from"./CCardHeader-CVGknzEa.js";import{a as S,C as u}from"./CContainer-CPpKFlBm.js";import{C as $}from"./CCollapse-DyjZHt5j.js";import{C as w}from"./CAlert-Dq8nM7MK.js";import"./Transition-8jr0_meD.js";import"./CCloseButton-BF1BRvNp.js";const m=({title:s,fields:r})=>n.jsxs("div",{className:"info-block",children:[n.jsx("strong",{children:s}),n.jsx("br",{}),r&&r.map(({label:d,value:p})=>n.jsxs("div",{children:[n.jsxs("strong",{children:[d,":"]})," ",p||"N/A",n.jsx("br",{})]},d)),n.jsx("br",{})]});m.propTypes={title:e.string.isRequired,fields:e.arrayOf(e.shape({label:e.string.isRequired,value:e.string})).isRequired};const R=({type:s,details:r})=>{if(!s||!r)return n.jsx("p",{children:"No shipping details available."});const l={air:()=>{var a,i,o,t;return n.jsxs(n.Fragment,{children:[n.jsx("strong",{children:"Origin Airport:"})," ",((a=r.air)==null?void 0:a.origin_airport)||"N/A"," ",n.jsx("br",{}),n.jsx("strong",{children:"Destination Airport:"})," ",((i=r.air)==null?void 0:i.destination_airport)||"N/A"," ",n.jsx("br",{}),n.jsx("strong",{children:"Departure Date:"})," ",(o=r.air)!=null&&o.preferred_departure_date?new Date(r.air.preferred_departure_date).toLocaleDateString():"Unknown"," ",n.jsx("br",{}),n.jsx("strong",{children:"Arrival Date:"})," ",(t=r.air)!=null&&t.preferred_arrival_date?new Date(r.air.preferred_arrival_date).toLocaleDateString():"Unknown"," ",n.jsx("br",{})]})},land:()=>{var a,i,o,t;return n.jsxs(n.Fragment,{children:[n.jsx("strong",{children:"Origin Address:"})," ",((a=r.land)==null?void 0:a.origin_address)||"N/A"," ",n.jsx("br",{}),n.jsx("strong",{children:"Destination Address:"})," ",((i=r.land)==null?void 0:i.destination_address)||"N/A"," ",n.jsx("br",{}),n.jsx("strong",{children:"Pickup Date:"})," ",(o=r.land)!=null&&o.pickup_date?new Date(r.land.pickup_date).toLocaleDateString():"Unknown"," ",n.jsx("br",{}),n.jsx("strong",{children:"Delivery Date:"})," ",(t=r.land)!=null&&t.delivery_date?new Date(r.land.delivery_date).toLocaleDateString():"Unknown"," ",n.jsx("br",{})]})},sea:()=>{var a,i,o,t;return n.jsxs(n.Fragment,{children:[n.jsx("strong",{children:"Loading Port:"})," ",((a=r.sea)==null?void 0:a.loading_port)||"N/A"," ",n.jsx("br",{}),n.jsx("strong",{children:"Discharge Port:"})," ",((i=r.sea)==null?void 0:i.discharge_port)||"N/A"," ",n.jsx("br",{}),n.jsx("strong",{children:"Sailing Date:"})," ",(o=r.sea)!=null&&o.sailing_date?new Date(r.sea.sailing_date).toLocaleDateString():"Unknown"," ",n.jsx("br",{}),n.jsx("strong",{children:"Estimated Arrival Date:"})," ",(t=r.sea)!=null&&t.estimated_arrival_date?new Date(r.sea.estimated_arrival_date).toLocaleDateString():"Unknown"," ",n.jsx("br",{})]})}};return n.jsxs("div",{className:"mt-3",children:[n.jsx("strong",{children:`${s.charAt(0).toUpperCase()}${s.slice(1)} Shipping:`}),n.jsx("br",{}),l[s]?l[s]():n.jsx("p",{children:"Unsupported shipping type."})]})};R.propTypes={type:e.string.isRequired,details:e.shape({air:e.shape({origin_airport:e.string,destination_airport:e.string,preferred_departure_date:e.string,preferred_arrival_date:e.string}),land:e.shape({origin_address:e.string,destination_address:e.string,pickup_date:e.string,delivery_date:e.string}),sea:e.shape({loading_port:e.string,discharge_port:e.string,sailing_date:e.string,estimated_arrival_date:e.string})}).isRequired};const L=({item:s})=>{var r,d,p,c,l,a,i,o,t,h,g,x,j,v,b,y,f,D,N,C;return s?n.jsxs("div",{children:[n.jsx(m,{title:"Shipper Information",fields:[{label:"Company Name",value:(r=s.shipper)==null?void 0:r.shipper_company_name},{label:"Contact Name",value:(d=s.shipper)==null?void 0:d.shipper_contact_name},{label:"Email Address",value:(p=s.shipper)==null?void 0:p.shipper_contact_email_address},{label:"Phone Number",value:(c=s.shipper)==null?void 0:c.shipper_contact_phone_number},{label:"Company Address",value:(l=s.shipper)==null?void 0:l.shipper_company_address}]}),n.jsx(m,{title:"Consignee Information",fields:[{label:"Company Name",value:(a=s.consignee)==null?void 0:a.consignee_company_name},{label:"Contact Name",value:(i=s.consignee)==null?void 0:i.consignee_contact_name},{label:"Email Address",value:(o=s.consignee)==null?void 0:o.consignee_contact_email_address},{label:"Phone Number",value:(t=s.consignee)==null?void 0:t.consignee_contact_phone_number},{label:"Company Address",value:(h=s.consignee)==null?void 0:h.consignee_company_address}]}),n.jsx(m,{title:"Shipment Information",fields:[{label:"Description",value:(g=s.shipment)==null?void 0:g.shipment_description},{label:"Weight",value:(x=s.shipment)==null?void 0:x.shipment_weight},{label:"Dimensions (LxWxH)",value:`${((j=s.shipment)==null?void 0:j.shipment_dimension_length)||"N/A"} x ${((v=s.shipment)==null?void 0:v.shipment_dimension_width)||"N/A"} x ${((b=s.shipment)==null?void 0:b.shipment_dimension_height)||"N/A"}`},{label:"Volume",value:(y=s.shipment)==null?void 0:y.shipment_volume},{label:"Value",value:(f=s.shipment)==null?void 0:f.shipment_value},{label:"Instructions",value:(D=s.shipment)==null?void 0:D.shipment_instructions}]}),n.jsx(R,{type:(N=s.shipping)==null?void 0:N.shipping_type,details:(C=s.shipping)==null?void 0:C.details})]}):n.jsx("p",{children:"No inventory details available."})};L.propTypes={item:e.shape({shipper:e.shape({shipper_company_name:e.string,shipper_contact_name:e.string,shipper_contact_email_address:e.string,shipper_contact_phone_number:e.string,shipper_company_address:e.string}),consignee:e.shape({consignee_company_name:e.string,consignee_contact_name:e.string,consignee_contact_email_address:e.string,consignee_contact_phone_number:e.string,consignee_company_address:e.string}),shipment:e.shape({shipment_description:e.string,shipment_weight:e.number,shipment_dimension_length:e.number,shipment_dimension_width:e.number,shipment_dimension_height:e.number,shipment_volume:e.number,shipment_value:e.number,shipment_instructions:e.string}),shipping:e.shape({shipping_type:e.string,details:e.shape({air:e.shape({origin_airport:e.string,destination_airport:e.string,preferred_departure_date:e.string,preferred_arrival_date:e.string}),land:e.shape({origin_address:e.string,destination_address:e.string,pickup_date:e.string,delivery_date:e.string}),sea:e.shape({loading_port:e.string,discharge_port:e.string,sailing_date:e.string,estimated_arrival_date:e.string})}).isRequired}),tracking_id:e.string,warehouse_id:e.string}).isRequired};const q=({item:s})=>{var c,l;const[r,d]=_.useState(null),p=()=>{d(r===null?s.tracking_id:null)};return n.jsx("div",{children:n.jsxs(A,{className:"mb-3",children:[n.jsxs(I,{className:"d-flex justify-content-between align-items-center",children:[n.jsxs("div",{children:[n.jsx("strong",{children:"Tracking ID:"})," ",s.tracking_id||"N/A"]}),n.jsx(S,{color:"info",size:"sm",onClick:p,className:"ms-2",children:r===s.tracking_id?"Hide Details":"See Details"})]}),n.jsxs(k,{children:[n.jsx("strong",{children:"Description:"})," ",((c=s.shipment)==null?void 0:c.shipment_description)||"No description available"," ",n.jsx("br",{}),n.jsx($,{visible:r===s.tracking_id,children:n.jsx(L,{item:{...s,warehouse_id:((l=s.warehouse_id)==null?void 0:l._id)||s.warehouse_id}})})]})]})})};q.propTypes={item:e.shape({tracking_id:e.string.isRequired,shipment:e.shape({shipment_description:e.string}),warehouse_id:e.oneOfType([e.string,e.object]).isRequired}).isRequired};const O="https://backend-log2.axleshift.com/api/v1/inventory",J=()=>{const{warehouse_id:s}=P(),r=E(),[d,p]=_.useState([]),[c,l]=_.useState(!0),[a,i]=_.useState(null),o=()=>{r(-1)};return _.useEffect(()=>{(async()=>{if(!s){i("Invalid warehouse ID"),l(!1);return}try{l(!0),i(null);const g=(await T.get(`${O}/warehouse/${s}`)).data;Array.isArray(g)?(p(g),g.length===0&&i("No inventory available for this warehouse")):i("Inventory data is missing or malformed")}catch(h){console.error("Error fetching inventory:",h),i("Failed to load inventory. Please try again.")}finally{l(!1)}})()},[s]),c?n.jsx(u,{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:n.jsx(U,{color:"primary"})}):a?n.jsx(u,{className:"py-4",children:n.jsx(w,{color:"danger",className:"text-center",children:a})}):n.jsxs(u,{className:"py-4",children:[n.jsx(S,{color:"secondary",size:"sm",onClick:o,className:"mb-3",children:"Back"}),n.jsxs(A,{children:[n.jsx(I,{children:n.jsxs("h3",{className:"text-center",children:["Inventory for Warehouse ",s]})}),n.jsx(k,{children:d.length>0?d.map((t,h)=>n.jsx(q,{item:t},h)):n.jsx(w,{color:"info",className:"text-center",children:"No inventory available for this warehouse"})})]})]})};export{J as default};
