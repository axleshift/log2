import{r as o,_ as E,R as a,a as T,c as I,P as t,l as R,j as e,L,f as W,C as D}from"./index-CBibLMk7.js";import{a as b}from"./axios-CCb-kr4I.js";import{C as S}from"./index.esm-mEJg-ym_.js";import{C as f,a as v}from"./CRow-BiIjExvh.js";import{C as O,a as A}from"./CCardBody-ovs4b1DO.js";import{C as P}from"./CCardFooter-0Qn4U23R.js";import{C}from"./CContainer-_BzGSDq9.js";import{C as M}from"./CAlert-B4UE7Blg.js";import"./js.cookie-Bgi00-Wx.js";import"./Transition-B3wsVLqJ.js";var x=o.forwardRef(function(s,d){var n,l=s.action,u=s.chart,m=s.className,r=s.color,i=s.title,c=s.value,p=E(s,["action","chart","className","color","title","value"]);return a.createElement(O,T({className:I((n={},n["bg-".concat(r)]=r,n["text-white"]=r,n),m)},p,{ref:d}),a.createElement(A,{className:"pb-0 d-flex justify-content-between align-items-start"},a.createElement("div",null,c&&a.createElement("div",{className:"fs-4 fw-semibold"},c),i&&a.createElement("div",null,i)),l),u)});x.propTypes={action:t.node,chart:t.oneOfType([t.string,t.node]),className:t.string,color:R,title:t.oneOfType([t.string,t.node]),value:t.oneOfType([t.string,t.node,t.number])};x.displayName="CWidgetStatsA";var N=o.forwardRef(function(s,d){var n=s.className,l=s.color,u=s.footer,m=s.icon,r=s.padding,i=r===void 0?!0:r,c=s.title,p=s.value,g=E(s,["className","color","footer","icon","padding","title","value"]);return a.createElement(O,T({className:n},g,{ref:d}),a.createElement(A,{className:"d-flex align-items-center ".concat(i===!1&&"p-0")},a.createElement("div",{className:"me-3 text-white bg-".concat(l," ").concat(i?"p-3":"p-4")},m),a.createElement("div",null,a.createElement("div",{className:"fs-6 fw-semibold text-".concat(l)},p),a.createElement("div",{className:"text-body-secondary text-uppercase fw-semibold small"},c))),u&&a.createElement(P,null,u))});N.propTypes={className:t.string,color:R,footer:t.oneOfType([t.string,t.node]),icon:t.oneOfType([t.string,t.node]),padding:t.bool,title:t.oneOfType([t.string,t.node]),value:t.oneOfType([t.string,t.node,t.number])};N.displayName="CWidgetStatsF";var F=["512 512","<polygon fill='var(--ci-primary-color, currentColor)' points='359.873 121.377 337.246 144.004 433.243 240.001 16 240.001 16 240.002 16 272.001 16 272.002 433.24 272.002 337.246 367.996 359.873 390.623 494.498 256 359.873 121.377' class='ci-primary'/>"],$=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M105.361,398.32A195.891,195.891,0,0,1,343.42,91.125L366.676,67.87A227.875,227.875,0,0,0,82.733,420.948,228.027,228.027,0,0,0,366.24,452.1l-23.312-23.312C267.9,472.768,169.657,462.617,105.361,398.32Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M468.916,353.07a243.542,243.542,0,0,0,0-186.459c-.885-2.136-1.806-4.251-2.747-6.354A242.246,242.246,0,0,0,416.11,87.571L404.8,76.257,393.483,87.571,221.213,259.84l172.63,172.631L404.8,443.424,416.11,432.11a242.218,242.218,0,0,0,49.452-71.358C466.716,358.212,467.844,355.657,468.916,353.07ZM404.359,121.95a211.57,211.57,0,0,1,0,275.781L266.468,259.84Z' class='ci-primary'/>"];const k=()=>{const[s,d]=o.useState(0),[n,l]=o.useState(0);return o.useEffect(()=>{(async()=>{const m=await fetch("/api/incoming-shipments"),r=await fetch("/api/outgoing-shipments"),i=await m.json(),c=await r.json();d(i),l(c)})()},[]),e.jsx(e.Fragment,{children:e.jsx(f,{children:e.jsx(v,{xs:6,children:e.jsx(N,{className:"mb-3",color:"info",footer:e.jsxs(L,{to:"/logistics",children:["View more",e.jsx(S,{icon:F,className:"float-end",width:16})]}),icon:e.jsx(S,{icon:$,height:24}),title:"Shipments Overview",value:`Incoming: ${s}, Outgoing: ${n}`})})})})},K=()=>{const[s,d]=o.useState([]),[n,l]=o.useState([]),[u,m]=o.useState(!0),[r,i]=o.useState(null),[c,p]=o.useState(null),g="http://localhost:5058/api/v1/warehouse",j="http://localhost:5058/api/v1/inventory",w=W();return o.useEffect(()=>{b.get(g).then(h=>{const y=h.data;d(y)}).catch(h=>{i("There was an error fetching warehouses!")}),b.get(j).then(h=>{const y=h.data;l(y),m(!1)}).catch(h=>{i("There was an error fetching inventory!"),m(!1)})},[g,j]),u?e.jsx(C,{fluid:!0,children:e.jsx(f,{className:"justify-content-center",children:e.jsx(D,{color:"primary",size:"sm"})})}):r?e.jsx(C,{fluid:!0,children:e.jsx(f,{className:"justify-content-center",children:e.jsx("div",{className:"alert alert-danger",children:r})})}):e.jsxs(C,{fluid:!0,className:"px-5 py-4",children:[e.jsx("h1",{className:"mb-4",children:"Dashboard"}),e.jsxs(f,{children:[e.jsx(v,{sm:"12",md:"6",lg:"4",children:e.jsx(x,{className:"mb-4",color:"primary",value:s.length,title:"Warehouses",icon:e.jsx("i",{className:"cil-building"}),onClick:()=>{w("/warehouse"),p("Redirecting to warehouse details")},style:{cursor:"pointer",padding:"3rem"}})}),e.jsx(v,{sm:"12",md:"6",lg:"4",children:e.jsx(x,{className:"mb-4",color:"info",value:n.length,title:"Inventory Items",icon:e.jsx("i",{className:"cil-cube"}),onClick:()=>{w("/inventory"),p("Redirecting to inventory details")},style:{cursor:"pointer",padding:"3rem"}})})]}),c&&e.jsx(M,{color:"success",onClose:()=>p(null),dismissible:!0,children:c}),e.jsx(f,{className:"mt-4",children:e.jsx(v,{xs:12,children:e.jsx(k,{})})})]})};export{K as default};
