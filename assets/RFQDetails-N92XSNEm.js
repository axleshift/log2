import{y as D,i as A,r as o,R as e,C as I}from"./index-qAjInVaZ.js";import{a as T}from"./index-DW_MHI2K.js";import{C as V,a as k}from"./CCardBody-DXOvSCcW.js";import{C as B}from"./CCardHeader-CANAulHu.js";import{b as P}from"./CContainer-CPP8_u0b.js";import{C as w}from"./DefaultLayout-DYyF2Ohc.js";import{C as E,a as d,b as a,c as r,d as p,e as n}from"./CTable-3eKYyPNy.js";import"./index.esm-mM2Os4KS.js";import"./CNavItem-BK7iTdnI.js";import"./CCloseButton-Bpa28C6a.js";import"./cil-user-Ddrdy7PS.js";import"./CForm-BC9QhIXx.js";import"./CFormTextarea-2DZZG0GA.js";import"./CFormControlWrapper-DILRo1BL.js";import"./index-D2wmCYDT.js";const U="https://backend-log2.axleshift.com/api/v1/rfq",Y=()=>{var y,v,b;const{id:u}=D(),Q=A(),[t,F]=o.useState(null),[S,i]=o.useState(!0),[h,C]=o.useState(null);if(o.useEffect(()=>{(async()=>{var c,s;if(!u){C("Invalid RFQ ID"),i(!1);return}try{i(!0);const m=await T.get(`${U}/${u}`);F(m.data)}catch(m){C(((s=(c=m.response)==null?void 0:c.data)==null?void 0:s.message)||"Failed to load RFQ")}finally{i(!1)}})()},[u]),S)return e.createElement(I,{color:"primary"});if(h)return e.createElement("div",null,h);if(!t)return e.createElement("div",null,"No RFQ found.");const N=t.products||[],f=t.invitedVendors||[],g=t.quotes||[];return e.createElement(V,null,e.createElement(B,null,e.createElement("h5",null,"RFQ Details"),e.createElement(P,{color:"secondary",onClick:()=>Q(-1)},"Back to RFQ List")),e.createElement(k,null,e.createElement("h6",null,e.createElement("strong",null,"RFQ ID:")," ",t._id),e.createElement("h6",null,e.createElement("strong",null,"Title:")," ",((y=t.procurementId)==null?void 0:y.title)||"N/A"),e.createElement("h6",null,e.createElement("strong",null,"Description:")," ",((v=t.procurementId)==null?void 0:v.description)||"No description available"),e.createElement("h6",null,e.createElement("strong",null,"Status:"),e.createElement(w,{color:t.status==="Open"?"success":t.status==="Closed"?"danger":"warning"},t.status)),e.createElement("h6",null,e.createElement("strong",null,"Created By:")," ",((b=t.createdBy)==null?void 0:b.email)||"Unknown"),e.createElement("h6",null,e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString()),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(E,{hover:!0,responsive:!0},e.createElement(d,null,e.createElement(a,null,e.createElement(r,null,"Name"),e.createElement(r,null,"Specs"),e.createElement(r,null,"Quantity"))),e.createElement(p,null,N.length>0?N.map((l,c)=>e.createElement(a,{key:c},e.createElement(n,null,l.name||"No name"),e.createElement(n,null,l.specs||"No specs"),e.createElement(n,null,l.quantity||"N/A"))):e.createElement(a,null,e.createElement(n,{colSpan:"3"},"No products listed")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Invited Vendors")),e.createElement(E,{hover:!0,responsive:!0},e.createElement(d,null,e.createElement(a,null,e.createElement(r,null,"Business Name"),e.createElement(r,null,"Contact Person"),e.createElement(r,null,"Phone Number"),e.createElement(r,null,"User Email"))),e.createElement(p,null,f.length>0?f.map((l,c)=>{var s;return e.createElement(a,{key:c},e.createElement(n,null,l.businessName||"N/A"),e.createElement(n,null,l.fullName||"N/A"),e.createElement(n,null,l.contactNumber||"N/A"),e.createElement(n,null,((s=l.userId)==null?void 0:s.email)||"No Email"))}):e.createElement(a,null,e.createElement(n,{colSpan:"4"},"No vendors added yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Quotes")),e.createElement(E,{hover:!0,responsive:!0},e.createElement(d,null,e.createElement(a,null,e.createElement(r,null,"Vendor"),e.createElement(r,null,"Price Per Unit"),e.createElement(r,null,"Delivery Time"),e.createElement(r,null,"Status"))),e.createElement(p,null,g.length>0?g.map((l,c)=>{var s,m,R;return e.createElement(a,{key:c},e.createElement(n,null,((s=l.vendorId)==null?void 0:s.businessName)||"Unknown Vendor"),e.createElement(n,null,((m=l.quoteDetails[0])==null?void 0:m.pricePerUnit)||"N/A"),e.createElement(n,null,((R=l.quoteDetails[0])==null?void 0:R.deliveryTime)||"N/A"),e.createElement(n,null,l.status))}):e.createElement(a,null,e.createElement(n,{colSpan:"4"},"No quotes submitted yet.")))),e.createElement("hr",null),t.selectedVendor?e.createElement("h6",null,e.createElement("strong",null,"Selected Vendor:")," ",t.selectedVendor.businessName||t.selectedVendor):e.createElement("p",null,"No vendor selected yet.")))};export{Y as default};
