import{z as S,l as q,r as m,R as e,C as A}from"./index-4l8YDPMt.js";import{a as D}from"./index-t--hEgTQ.js";import{C as w,a as T}from"./CCardBody-DYN-5Bvl.js";import{C as k}from"./CCardHeader-CF_x8B1s.js";import{c as U}from"./CRow-Dstcvhhn.js";import{C as L}from"./DefaultLayout-DdXa9kGr.js";import{b,c as R,d as s,e as n,f as F,g as a}from"./CTable-BFf1LR0p.js";import"./CFormInput-5eZtoBd3.js";import"./CFormTextarea-D45f2w8t.js";import"./CFormSelect-Q2Zp1re3.js";import"./CCloseButton-CN5zlj3N.js";import"./index.esm-CTaOn0oS.js";import"./cil-user-Ddrdy7PS.js";import"./index-Cl-k4Ybk.js";const P="https://backend-log2.axleshift.com/api/v1/rfq",Z=()=>{var C,g,v,y,h;const{id:o}=S(),Q=q(),[t,x]=m.useState(null),[B,u]=m.useState(!0),[E,p]=m.useState(null);if(m.useEffect(()=>{(async()=>{var r,c;if(!o){p("Invalid RFQ ID"),u(!1);return}try{u(!0);const{data:d}=await D.get(`${P}/${o}`);x(d.rfq)}catch(d){p(((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.message)||"Failed to load RFQ")}finally{u(!1)}})()},[o]),B)return e.createElement(A,{color:"primary"});if(E)return e.createElement("div",{className:"text-danger"},E);if(!t)return e.createElement("div",null,"No RFQ found.");const N=t.products||[],f=t.vendors||[];t.quotes;const i=t.selectedVendor||null,I=((C=t.requestedBy)==null?void 0:C.email)||((v=(g=t.procurementId)==null?void 0:g.requestedBy)==null?void 0:v.email)||"Unknown";return e.createElement(w,null,e.createElement(k,{className:"d-flex justify-content-between align-items-center"},e.createElement("h5",null,"RFQ Details"),e.createElement(U,{color:"secondary",onClick:()=>Q(-1)},"Back to RFQ List")),e.createElement(T,null,e.createElement("div",{className:"row mb-3"},e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"RFQ ID:")," ",t._id),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Title:")," ",((y=t.procurementId)==null?void 0:y.title)||"N/A"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Description:")," ",((h=t.procurementId)==null?void 0:h.description)||"No description available"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Status:"),e.createElement(L,{color:t.status==="Open"?"success":t.status==="Closed"?"danger":"warning"},t.status)),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created By:")," ",I),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString())),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(b,{hover:!0,responsive:!0,className:"text-center"},e.createElement(R,null,e.createElement(s,null,e.createElement(n,null,"Name"),e.createElement(n,null,"Quantity"),e.createElement(n,null,"Unit"))),e.createElement(F,null,N.length>0?N.map((l,r)=>e.createElement(s,{key:r},e.createElement(a,null,l.name||"No name"),e.createElement(a,null,l.quantity||"N/A"),e.createElement(a,null,l.unit||"No Unit"))):e.createElement(s,null,e.createElement(a,{colSpan:"3",className:"text-center"},"No products listed")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Invited Vendors")),e.createElement(b,{hover:!0,responsive:!0,className:"text-center"},e.createElement(R,null,e.createElement(s,null,e.createElement(n,null,"Business Name"),e.createElement(n,null,"Contact Person"),e.createElement(n,null,"Phone Number"),e.createElement(n,null,"User Email"))),e.createElement(F,null,f.length>0?f.map((l,r)=>{var c;return e.createElement(s,{key:r},e.createElement(a,null,l.businessName||"N/A"),e.createElement(a,null,l.fullName||"N/A"),e.createElement(a,null,l.contactNumber||"N/A"),e.createElement(a,null,((c=l.userId)==null?void 0:c.email)||"No Email"))}):e.createElement(s,null,e.createElement(a,{colSpan:"4",className:"text-center"},"No vendors added yet.")))),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Selected Vendor:")," ",(i==null?void 0:i.businessName)||e.createElement("span",{className:"text-muted"},"No vendor selected yet."))))};export{Z as default};
