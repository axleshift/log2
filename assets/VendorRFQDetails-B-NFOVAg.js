import{y as R,k as w,r,R as e,C as x,L as B}from"./index-D-OjWQES.js";import{a as F}from"./index-C88pvD_q.js";import{C as Q,a as D}from"./CCardBody-BZHwh40R.js";import{C as T}from"./CCardHeader-CzPoDY5I.js";import{C as g}from"./CAlert-DaKElX6f.js";import{C as k}from"./DefaultLayout-Bqw7Suug.js";import{C as A,a as S,b as c,c as o,d as I,e as n}from"./CTable-Dl80uNZc.js";import{b as L}from"./CContainer-Cq52eSeb.js";import"./CCloseButton-BeKj8TBh.js";import"./index.esm-CdbheKKh.js";import"./CNavItem-GMM9CVEC.js";import"./cil-user-Ddrdy7PS.js";import"./index-COLA2U-y.js";const M=()=>{var u,E,p,C,N;const{id:m}=R(),{accessToken:s}=w(),[t,y]=r.useState(null),[v,h]=r.useState(!0),[i,b]=r.useState(null);r.useEffect(()=>{s&&(async()=>{try{const l=await F.get(`https://backend-log2.axleshift.com/api/v1/rfq/vendor/rfqs/${m}`,{headers:{Authorization:`Bearer ${s}`}});y(l.data)}catch{b("Failed to load RFQ details.")}finally{h(!1)}})()},[m,s]);const d=(t==null?void 0:t.products)||[];t!=null&&t.vendors,t!=null&&t.quotes;const f=((u=t==null?void 0:t.requestedBy)==null?void 0:u.email)||((p=(E=t==null?void 0:t.procurementId)==null?void 0:E.requestedBy)==null?void 0:p.email)||"Unknown";return e.createElement(Q,{className:"shadow-sm"},e.createElement(T,{className:"bg-primary text-white fw-bold"},"RFQ Details"),e.createElement(D,null,v?e.createElement("div",{className:"text-center my-3"},e.createElement(x,{color:"primary"})):i?e.createElement(g,{color:"danger",className:"text-center"},i):t?e.createElement("div",null,e.createElement("div",{className:"row mb-3"},e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"RFQ ID:")," ",t._id),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Title:")," ",((C=t.procurementId)==null?void 0:C.title)||"N/A"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Description:")," ",((N=t.procurementId)==null?void 0:N.description)||"No description available"),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Status:"),e.createElement(k,{color:t.status==="Open"?"success":t.status==="Closed"?"danger":"warning"},t.status)),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Requested By:")," ",f),e.createElement("div",{className:"col-md-6"},e.createElement("strong",null,"Created At:")," ",new Date(t.createdAt).toLocaleDateString())),e.createElement("hr",null),e.createElement("h6",null,e.createElement("strong",null,"Items")),e.createElement(A,{hover:!0,responsive:!0,className:"text-center"},e.createElement(S,null,e.createElement(c,null,e.createElement(o,null,"Name"),e.createElement(o,null,"Quantity"),e.createElement(o,null,"Unit"))),e.createElement(I,null,d.length>0?d.map((a,l)=>e.createElement(c,{key:l},e.createElement(n,null,a.name||"No name"),e.createElement(n,null,a.quantity||"N/A"),e.createElement(n,null,a.unit||"No Unit"))):e.createElement(c,null,e.createElement(n,{colSpan:"3",className:"text-center"},"No products listed")))),e.createElement(B,{to:"/vendor/rfqs"},e.createElement(L,{color:"secondary",className:"mt-3"},"Back to RFQs"))):e.createElement(g,{color:"warning",className:"text-center"},"RFQ not found.")))};export{M as default};
