const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-nefx4u84.js","assets/index-CG5cXGW0.js","assets/index-Tkhn5uuF.css","assets/axios-DXsv3KKR.js","assets/index.esm-DBs-EpJf.js","assets/CRow-BVAaJJJw.js","assets/CCardBody-BuyTEJM8.js","assets/CCardFooter-DMLrB9An.js","assets/CContainer-DZvKed_E.js","assets/CAlert-TWNuonwF.js","assets/CCloseButton-viBWZYHx.js","assets/Transition-DONipWBO.js","assets/LogisticsDashboard-DTi2bknJ.js","assets/CCardHeader-Bk8AbUZW.js","assets/WarehouseManagement-kra9TyIb.js","assets/CModalTitle-D3ihixE_.js","assets/simplebar.min-Z0vrnpZ0.js","assets/CNavItem-RDe7WxqJ.js","assets/simplebar-C111EtUu.css","assets/CForm-BCrxAxUr.js","assets/CFormInput-WRbFKXpa.js","assets/CFormSelect-uzXXOHJV.js","assets/CListGroupItem-BfyemgFz.js","assets/IncomingDetails-C1Gy-yKD.js","assets/OutgoingDetails-BODXA_CC.js","assets/CCollapse-BYBrFTUC.js","assets/profile-CV9Mo2k3.js","assets/index-DCFH6BHU.js","assets/CInputGroupText-ChCmPa4a.js","assets/Inventory-DJevpHQ-.js","assets/CTable-BfLd0QfC.js","assets/WarehouseDetail-Cb8pMfXH.js","assets/InventoryDetail-CkwXzQeH.js"])))=>i.map(i=>d[i]);
import{r as d,_ as K,R as m,a as T,c as L,P as p,b as j,u as ge,j as e,C as xe,d as ve,e as H,N as fe,f as be,g as V,h as je,i as Q,k as R,l as X}from"./index-CG5cXGW0.js";import{C as Ne,a as B,b as ye,d as G,c as Ce,e as U,f as Z,g as k,h as Ee,i as _e,j as Se,k as Ie,l as De,m as Ae,n as Te,o as w,p as W,q as F,r as $,S as ke,s as we,t as Le,u as Re,v as Oe,w as Pe}from"./simplebar.min-Z0vrnpZ0.js";import{C as O,a as ze}from"./CContainer-DZvKed_E.js";import{C as u}from"./index.esm-DBs-EpJf.js";import{C as Me,a as ee,b as se,c as ae,d as b,e as C,f as P,g as He,h as Y}from"./CNavItem-RDe7WxqJ.js";import{c as Ve}from"./cil-user-Ddrdy7PS.js";import{F as A,f as Be,a as Ge,b as Ue,c as We}from"./index-DCFH6BHU.js";import{T as Fe}from"./Transition-DONipWBO.js";import{C as $e}from"./CCloseButton-viBWZYHx.js";var q=function(s,t){var c=s.toString().split("."),o=t.toString().split(".");return o.every(function(a,n){return a===c[n]})},S=d.forwardRef(function(s,t){var c=s.children,o=s.as,a=o===void 0?"li":o,n=s.className,i=s.compact,r=s.idx,g=s.toggler,v=s.visible,l=K(s,["children","as","className","compact","idx","toggler","visible"]),h=d.useState(0),N=h[0],y=h[1],x=d.useRef(null),E=d.useContext(Me),_=E.visibleGroup,oe=E.setVisibleGroup,z=d.useState(!!(v||r&&_&&q(_,r))),D=z[0],M=z[1];d.useEffect(function(){M(!!(r&&_&&q(_,r)))},[_]);var re=function(f){f.preventDefault(),oe(D?r!=null&&r.toString().includes(".")?r.slice(0,r.lastIndexOf(".")):"":r),M(!D)},ie={height:0},le=function(){x.current&&y(x.current.scrollHeight)},ce=function(){y("auto")},me=function(){x.current&&y(x.current.scrollHeight)},de=function(){var f;(f=x.current)===null||f===void 0||f.offsetHeight,y(0)},pe=function(){y(0)},ue={entering:{display:"block",height:N},entered:{display:"block",height:N},exiting:{display:"block",height:N},exited:{height:N},unmounted:{}},he=a==="li"?"ul":"div";return m.createElement(a,T({className:L("nav-group",{show:D},n)},l,{ref:t}),g&&m.createElement("a",{className:"nav-link nav-group-toggle",onClick:function(f){return re(f)}},g),m.createElement(Fe,{in:D,nodeRef:x,onEntering:le,onEntered:ce,onExit:me,onExiting:de,onExited:pe,timeout:300},function(f){return m.createElement(he,{className:L("nav-group-items",{compact:i}),style:T(T({},ie),ue[f]),ref:x},c)}))});S.propTypes={as:p.elementType,children:p.node,className:p.string,compact:p.bool,idx:p.string,toggler:p.oneOfType([p.string,p.node]),visible:p.bool};S.displayName="CNavGroup";var I=d.forwardRef(function(s,t){var c=s.children,o=s.as,a=o===void 0?"li":o,n=s.className,i=K(s,["children","as","className"]);return m.createElement(a,T({className:L("nav-title",n)},i,{ref:t}),c)});I.propTypes={as:p.elementType,children:p.node,className:p.string};I.displayName="CNavTitle";const J=m.lazy(()=>j(()=>import("./Dashboard-nefx4u84.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Ye=m.lazy(()=>j(()=>import("./LogisticsDashboard-DTi2bknJ.js"),__vite__mapDeps([12,1,2,5,6,13,7,8]))),qe=m.lazy(()=>j(()=>import("./WarehouseManagement-kra9TyIb.js"),__vite__mapDeps([14,1,2,8,15,10,16,11,17,18,19,20,21,9,22]))),Je=m.lazy(()=>j(()=>import("./IncomingDetails-C1Gy-yKD.js"),__vite__mapDeps([23,1,2,8,5,6,13,19,20]))),Ke=m.lazy(()=>j(()=>import("./OutgoingDetails-BODXA_CC.js"),__vite__mapDeps([24,1,2,8,5,6,13,19,20,25,11]))),Qe=m.lazy(()=>j(()=>import("./profile-CV9Mo2k3.js"),__vite__mapDeps([26,1,2,27,5,6,13,28,20,8,15,10,16,11,17,18]))),Xe=m.lazy(()=>j(()=>import("./Inventory-DJevpHQ-.js"),__vite__mapDeps([29,1,2,3,6,13,28,20,8,30,11,15,10,16,17,18]))),Ze=m.lazy(()=>j(()=>import("./WarehouseDetail-Cb8pMfXH.js"),__vite__mapDeps([31,1,2,3,8,9,10,11,5]))),es=m.lazy(()=>j(()=>import("./InventoryDetail-CkwXzQeH.js"),__vite__mapDeps([32,1,2,3,6,13,8,25,11,9,10]))),ne=[{path:"/",name:"Home",element:J},{path:"/dashboard",name:"Dashboard",element:J},{path:"/logistics",name:"Logistics Dashboard",element:Ye},{path:"/warehouse",name:"Warehouse Management",element:qe},{path:"/incoming",name:"Incoming Details",element:Je},{path:"/outgoing",name:"Outgoing Details",element:Ke},{path:"/profile",name:"Profile",element:Qe},{path:"/warehouseDetail/:warehouse_id",name:"Warehouse Detail",element:Ze},{path:"/inventory/:warehouse_id",name:"Inventory Detail",element:es},{path:"/inventory",name:"Inventory",element:Xe}],ss=()=>{const s=ge().pathname,t=(a,n)=>{const i=n.find(r=>r.path===a);return i?i.name:!1},o=(a=>{const n=[];return a.split("/").reduce((i,r,g,v)=>{const l=`${i}/${r}`,h=t(l,ne);return h&&n.push({pathname:l,name:h,active:g+1===v.length}),l}),n})(s);return e.jsxs(Ne,{className:"my-0",children:[e.jsx(B,{href:"/",children:"Home"}),o.map((a,n)=>d.createElement(B,{...a.active?{active:!0}:{href:a.pathname},key:n},a.name))]})},as=m.memo(ss),ns=()=>e.jsx(O,{className:"px-4",lg:!0,children:e.jsx(d.Suspense,{fallback:e.jsx(xe,{color:"primary"}),children:e.jsxs(ve,{children:[ne.map((s,t)=>s.element&&e.jsx(H,{path:s.path,exact:s.exact,name:s.name,element:e.jsx(s.element,{})},t)),e.jsx(H,{path:"/",element:e.jsx(fe,{to:"dashboard",replace:!0})})]})})}),ts=m.memo(ns),os=()=>{const s=new Date().getFullYear();return e.jsxs(ye,{className:"px-4",children:[e.jsx("div",{children:e.jsxs("span",{className:"ms-1",children:["Â© CAPSTONE ",s," All rights reserved"]})}),e.jsxs("div",{className:"ms-auto",children:[e.jsx("span",{className:"me-1",children:" Cluster L: "}),e.jsx("p",{children:"Logistics 2: Inventory Management"})]})]})},rs=m.memo(os),is=()=>{const s=be(),[t,c]=d.useState(!1),[o,a]=d.useState("Anonymous"),[n,i]=d.useState(G);d.useEffect(()=>{const l=JSON.parse(localStorage.getItem("user")||"{}");console.log("User Info:",l),l&&l.name?a(l.name):a("Anonymous"),l&&l.avatar?i(l.avatar):i(G)},[]);const r=async()=>{V.remove("token"),V.remove("refreshToken"),sessionStorage.clear(),localStorage.removeItem("user")},g=async()=>{c(!0);try{await r(),s("/login")}catch(l){console.error("Logout failed",l),alert("Logout failed. Please try again.")}finally{c(!1)}},v=()=>{s("/profile")};return e.jsxs(ee,{variant:"nav-item",children:[e.jsxs(se,{placement:"bottom-end",className:"py-0 pe-0",caret:!1,children:[e.jsx(Ce,{src:n,size:"lg"})," "]}),e.jsxs(ae,{className:"pt-0",placement:"bottom-end",children:[e.jsxs(U,{className:"bg-body-secondary fw-semibold mb-2",children:[o," "]}),e.jsxs(b,{children:[e.jsx(u,{icon:Z,className:"me-2"}),"Updates"," ",e.jsx(k,{color:"info",className:"ms-2",children:"42"})]}),e.jsxs(b,{children:[e.jsx(u,{icon:Ee,className:"me-2"}),"Messages"," ",e.jsx(k,{color:"success",className:"ms-2",children:"42"})]}),e.jsxs(b,{children:[e.jsx(u,{icon:_e,className:"me-2"}),"Tasks"," ",e.jsx(k,{color:"danger",className:"ms-2",children:"42"})]}),e.jsx(U,{className:"bg-body-secondary fw-semibold my-2",children:"Settings"}),e.jsxs(b,{onClick:v,style:{cursor:"pointer"},children:[e.jsx(u,{icon:Ve,className:"me-2"}),"Profile"]}),e.jsxs(b,{children:[e.jsx(u,{icon:Se,className:"me-2"}),"Settings"]}),e.jsx(Ie,{}),e.jsx(b,{onClick:g,children:e.jsx(ze,{color:"primary",role:"button",disabled:t,children:t?"Signing Out...":"Sign Out"})})]})]})},ls=()=>{const s=d.useRef(),{colorMode:t,setColorMode:c}=je("coreui-free-react-admin-template-theme"),o=Q(),a=R(n=>n.sidebarShow);return d.useEffect(()=>{const n=()=>{s.current&&s.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)};return document.addEventListener("scroll",n),()=>{document.removeEventListener("scroll",n)}},[]),e.jsxs(De,{position:"sticky",className:"mb-4 p-0",ref:s,children:[e.jsxs(O,{className:"border-bottom px-4",fluid:!0,children:[e.jsx(Ae,{onClick:()=>o({type:"set",sidebarShow:!a}),style:{marginInlineStart:"-14px"},"aria-label":"Toggle sidebar",children:e.jsx(u,{icon:Te,size:"lg"})}),e.jsx(w,{className:"d-none d-md-flex",children:e.jsx(C,{children:e.jsx(P,{to:"/dashboard",as:X,"aria-label":"Dashboard",children:"Dashboard"})})}),e.jsx(w,{className:"ms-auto",children:e.jsx(C,{children:e.jsx(P,{href:"#","aria-label":"Notifications",children:e.jsx(u,{icon:Z,size:"lg"})})})}),e.jsxs(w,{children:[e.jsx("li",{className:"nav-item py-1",children:e.jsx("div",{className:"vr h-100 mx-2 text-body text-opacity-75"})}),e.jsxs(ee,{variant:"nav-item",placement:"bottom-end",children:[e.jsx(se,{caret:!1,"aria-label":"Toggle color mode",children:t==="dark"?e.jsx(u,{icon:W,size:"lg"}):t==="auto"?e.jsx(u,{icon:F,size:"lg"}):e.jsx(u,{icon:$,size:"lg"})}),e.jsxs(ae,{children:[e.jsxs(b,{active:t==="light",className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>c("light"),children:[e.jsx(u,{className:"me-2",icon:$,size:"lg"})," Light"]}),e.jsxs(b,{active:t==="dark",className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>c("dark"),children:[e.jsx(u,{className:"me-2",icon:W,size:"lg"})," Dark"]}),e.jsxs(b,{active:t==="auto",className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>c("auto"),children:[e.jsx(u,{className:"me-2",icon:F,size:"lg"})," Auto"]})]})]}),e.jsx("li",{className:"nav-item py-1",children:e.jsx("div",{className:"vr h-100 mx-2 text-body text-opacity-75"})}),e.jsx(is,{})]})]}),e.jsx(O,{className:"px-4",fluid:!0,children:e.jsx(as,{})})]})},te=({items:s})=>{const t=(a,n,i,r=!1)=>e.jsxs(e.Fragment,{children:[n||r&&e.jsx("span",{className:"nav-icon",children:e.jsx("span",{className:"nav-icon-bullet"})}),a&&a,i&&e.jsx(k,{color:i.color,className:"ms-auto",children:i.text})]}),c=(a,n,i=!1)=>{const{component:r,name:g,badge:v,icon:l,...h}=a,N=r;return e.jsx(N,{as:"div",children:h.to||h.href?e.jsx(P,{...h.to&&{as:X},...h,children:t(g,l,v,i)}):t(g,l,v,i)},n)},o=(a,n)=>{var y;const{component:i,name:r,icon:g,items:v,to:l,...h}=a,N=i;return e.jsx(N,{compact:!0,as:"div",toggler:t(r,g),...h,children:(y=a.items)==null?void 0:y.map((x,E)=>x.items?o(x,E):c(x,E,!0))},n)};return e.jsx(He,{as:ke,children:s&&s.map((a,n)=>a.items?o(a,n):c(a,n))})};te.propTypes={items:p.arrayOf(p.any).isRequired};const cs=[{component:C,name:"Dashboard",to:"/dashboard",icon:e.jsx(A,{icon:Be,className:"nav-icon",size:"xl",style:{marginRight:"10px"},"aria-label":"Dashboard Icon"})},{component:I,name:"SHIPMENT"},{component:S,name:"Management",icon:e.jsx(A,{icon:Ge,className:"nav-icon","aria-label":"Management Icon"}),items:[{component:C,name:"Logistics",to:"/logistics"}]},{component:I,name:"WAREHOUSE MANAGEMENT"},{component:S,name:"Warehouses",icon:e.jsx(A,{icon:Ue,className:"nav-icon","aria-label":"Warehouses Icon"}),items:[{component:C,name:"Warehouse Management",to:"/warehouse"}]},{component:I,name:"INVENTORY MANAGEMENT"},{component:S,name:"Inventory",icon:e.jsx(A,{icon:We,className:"nav-icon","aria-label":"Inventory Icon"}),items:[{component:C,name:"Inventories",to:"/inventory"}]}],ms=()=>{const s=Q(),t=R(o=>o.sidebarUnfoldable),c=R(o=>o.sidebarShow);return e.jsxs(we,{className:"border-end",colorScheme:"dark",position:"fixed",unfoldable:t,visible:c,onVisibleChange:o=>{s({type:"set",sidebarShow:o})},children:[e.jsxs(Le,{className:"border-bottom",children:[e.jsxs(Re,{to:"/",children:[e.jsx(Y,{fluid:!0,src:"/image/logo.png",className:"sidebar-brand-full",height:30}),e.jsx(Y,{src:"/image/favicon.png",className:"sidebar-brand-narrow",height:30})]}),e.jsx($e,{className:"d-lg-none",dark:!0,onClick:()=>s({type:"set",sidebarShow:!1})})]}),e.jsx(te,{items:cs}),e.jsx(Oe,{className:"border-top d-none d-lg-flex",children:e.jsx(Pe,{onClick:()=>s({type:"set",sidebarUnfoldable:!t})})})]})},ds=m.memo(ms),Ns=()=>e.jsxs("div",{children:[e.jsx(ds,{}),e.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[e.jsx(ls,{}),e.jsx("div",{className:"body flex-grow-1",children:e.jsx(ts,{})}),e.jsx(rs,{})]})]});export{Ns as default};
